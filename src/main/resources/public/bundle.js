var app=function(t){"use strict";function e(){}function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function b(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let w;function $(t){w=t}const x=[],y=[],C=[],M=[],k=Promise.resolve();let z=!1;function L(t){C.push(t)}function H(t){M.push(t)}let P=!1;const T=new Set;function _(){if(!P){P=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];$(e),q(e.$$)}for($(null),x.length=0;y.length;)y.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];T.has(e)||(T.add(e),e())}C.length=0}while(x.length);for(;M.length;)M.pop()();z=!1,P=!1,T.clear()}}function q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const A=new Set;let V;function B(){V={r:0,c:[],p:V}}function E(){V.r||l(V.c),V=V.p}function j(t,e){t&&t.i&&(A.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),V.c.push((()=>{A.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function S(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function N(t){t&&t.c()}function F(t,e,o,s){const{fragment:a,on_mount:i,on_destroy:r,after_update:u}=t.$$;a&&a.m(e,o),s||L((()=>{const e=i.map(n).filter(c);r?r.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(L)}function D(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(x.push(t),z||(z=!0,k.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,n,c,s,a,i,u=[-1]){const d=w;$(t);const f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let h=!1;if(f.ctx=c?c(t,n.props||{},((e,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),h&&J(t,e)),n})):[],f.update(),h=!0,l(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(r)}else f.fragment&&f.fragment.c();n.intro&&j(t.$$.fragment),F(t,n.target,n.anchor,n.customElement),_()}$(d)}class G{$destroy(){D(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function I(t){let n,o,c,s,u,f,g,v,b,w,$,x,y,C,M,k,z,L,H,P,T,_;return{c(){n=d("main"),o=d("nav"),c=d("div"),s=d("a"),s.textContent="access_manager",u=h(),f=d("div"),g=d("ul"),v=d("li"),b=d("a"),b.textContent="Главная",w=h(),$=d("li"),x=d("a"),x.textContent="Роли",y=h(),C=d("li"),M=d("a"),M.textContent="Функции",k=h(),z=d("li"),L=d("a"),L.textContent="Разрешения",H=h(),P=d("li"),P.innerHTML='<a class="nav-link svelte-1iqrkeo" href="/redoc/index.html" target="_blank">Документация</a>',p(s,"class","navbar-brand svelte-1iqrkeo"),p(b,"class","nav-link svelte-1iqrkeo"),p(v,"class","nav-item"),p(x,"class","nav-link svelte-1iqrkeo"),p($,"class","nav-item"),p(M,"class","nav-link svelte-1iqrkeo"),p(C,"class","nav-item"),p(L,"class","nav-link svelte-1iqrkeo"),p(z,"class","nav-item"),p(P,"class","nav-item"),p(g,"class","navbar-nav mr-auto mb-2 mb-lg-0"),p(f,"class","navbar-collapse"),p(f,"id","navbarSupportedContent"),p(c,"class","container-fluid"),p(o,"class","navbar navbar-expand-lg navbar-dark bg-dark")},m(e,l){i(e,n,l),a(n,o),a(o,c),a(c,s),a(c,u),a(c,f),a(f,g),a(g,v),a(v,b),a(g,w),a(g,$),a($,x),a(g,y),a(g,C),a(C,M),a(g,k),a(g,z),a(z,L),a(g,H),a(g,P),T||(_=[m(s,"click",t[1]),m(b,"click",t[2]),m(x,"click",t[3]),m(M,"click",t[4]),m(L,"click",t[5])],T=!0)},p:e,i:e,o:e,d(t){t&&r(n),T=!1,l(_)}}}function K(t,e,n){let{selectedPage:o}=e;return t.$$set=t=>{"selectedPage"in t&&n(0,o=t.selectedPage)},[o,()=>n(0,o="home"),()=>n(0,o="home"),()=>n(0,o="roles"),()=>n(0,o="functions"),()=>n(0,o="permissions")]}class Q extends G{constructor(t){super(),W(this,t,K,I,s,{selectedPage:0})}}function R(t){let n;return{c(){n=d("main"),n.innerHTML='<div class="container mt-5"><div class="row"><div class="col-2"></div> \n            <div class="col-8"><h1>Главная</h1> \n\n                <h3 class="mt-5 mb-3">Описание</h3> \n\n                <p><b>access_manager</b> - вспомогательное ПО для контроля <i>разрешений</i> пользователей с\n                    различными <i>ролями</i>\n                    на доступ к той или иной функциональности основного ПО.</p> \n\n                <h3 class="mt-5 mb-3">Словарь</h3> \n\n                <p><b>Роль (role)</b> - группа людей имеющих доступ к одной и той же функциональность основного ПО.</p> \n\n                <p><b>Функция (function)</b> - часть функциональности основного ПО доступ к которой может быть\n                    открыт/закрыт\n                    для любой из <i>ролей</i>.</p> \n\n                <p><b>Разрешение (permission)</b> - возможность/невозможность пользования <i>функцией</i> для <i>роли</i>.</p></div> \n            <div class="col-2"></div></div></div>'},m(t,e){i(t,n,e)},p:e,i:e,o:e,d(t){t&&r(n)}}}class U extends G{constructor(t){super(),W(this,t,null,R,s,{})}}function X(t,e,n){const o=t.slice();return o[12]=e[n],o[14]=n,o}function Y(t){let e,n,o,c,s,u,v,w,$,x,y,C,M,k,z,L,H,P,T=t[14]+1+"",_=t[12].code+"",q=t[12].name+"";function A(){return t[7](t[12])}function V(){return t[8](t[12])}return{c(){e=d("tr"),n=d("th"),o=f(T),c=h(),s=d("td"),u=f(_),v=h(),w=d("td"),$=f(q),x=h(),y=d("td"),C=d("span"),C.innerHTML='<svg class="bi bi-info-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>',M=h(),k=d("td"),z=d("span"),z.innerHTML='<svg class="bi bi-trash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" fill-rule="evenodd"></path></svg>',L=h(),p(n,"scope","row"),p(C,"class","text-info svelte-1ow4dq9"),b(y,"text-align","center"),p(z,"class","text-danger svelte-1ow4dq9"),b(k,"text-align","center")},m(t,l){i(t,e,l),a(e,n),a(n,o),a(e,c),a(e,s),a(s,u),a(e,v),a(e,w),a(w,$),a(e,x),a(e,y),a(y,C),a(e,M),a(e,k),a(k,z),a(e,L),H||(P=[m(C,"click",A),m(z,"click",V)],H=!0)},p(e,n){t=e,4&n&&_!==(_=t[12].code+"")&&g(u,_),4&n&&q!==(q=t[12].name+"")&&g($,q)},d(t){t&&r(e),H=!1,l(P)}}}function Z(t){let n,o,c,s,f,g,b,w,$,x,y,C,M,k,z,L,H,P,T,_,q,A,V,B,E,j,O,S,N,F,D,J,W,G=t[2],I=[];for(let e=0;e<G.length;e+=1)I[e]=Y(X(t,G,e));return{c(){n=d("main"),o=d("div"),c=d("div"),s=d("div"),f=h(),g=d("div"),b=d("h1"),b.textContent="Роли",w=h(),$=d("h3"),$.textContent="Таблица ролей",x=h(),y=d("table"),C=d("thead"),C.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Код</th> \n                        <th scope="col">Название</th> \n                        <th scope="col"></th> \n                        <th scope="col"></th></tr>',M=h(),k=d("tbody");for(let t=0;t<I.length;t+=1)I[t].c();z=h(),L=d("h3"),L.textContent="Добавить роль",H=h(),P=d("form"),T=d("div"),_=d("label"),_.innerHTML='Код <span class="text-danger svelte-1ow4dq9">*</span>',q=h(),A=d("input"),V=h(),B=d("div"),E=d("label"),E.innerHTML='Название <span class="text-danger svelte-1ow4dq9">*</span>',j=h(),O=d("input"),S=h(),N=d("button"),N.textContent="Создать роль",F=h(),D=d("div"),p(s,"class","col-2"),p($,"class","mt-5 mb-3"),p(y,"class","table"),p(L,"class","mt-5 mb-3"),p(_,"class","form-label"),p(_,"for","code"),p(A,"class","form-control"),p(A,"id","code"),A.required=!0,p(A,"type","text"),p(T,"class","mb-3"),p(E,"class","form-label"),p(E,"for","name"),p(O,"class","form-control"),p(O,"id","name"),O.required=!0,p(O,"type","text"),p(B,"class","mb-3"),p(N,"class","btn btn-secondary mb-5"),p(N,"id","send"),p(g,"class","col-8"),p(D,"class","col-2"),p(c,"class","row"),p(o,"class","container mt-5")},m(e,l){i(e,n,l),a(n,o),a(o,c),a(c,s),a(c,f),a(c,g),a(g,b),a(g,w),a(g,$),a(g,x),a(g,y),a(y,C),a(y,M),a(y,k);for(let t=0;t<I.length;t+=1)I[t].m(k,null);a(g,z),a(g,L),a(g,H),a(g,P),a(P,T),a(T,_),a(T,q),a(T,A),v(A,t[3]),a(P,V),a(P,B),a(B,E),a(B,j),a(B,O),v(O,t[4]),a(g,S),a(g,N),a(c,F),a(c,D),J||(W=[m(A,"input",t[9]),m(O,"input",t[10]),m(N,"click",t[5])],J=!0)},p(t,[e]){if(71&e){let n;for(G=t[2],n=0;n<G.length;n+=1){const o=X(t,G,n);I[n]?I[n].p(o,e):(I[n]=Y(o),I[n].c(),I[n].m(k,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=G.length}8&e&&A.value!==t[3]&&v(A,t[3]),16&e&&O.value!==t[4]&&v(O,t[4])},i:e,o:e,d(t){t&&r(n),u(I,t),J=!1,l(W)}}}function tt(t,e,n){let{selectedPage:o}=e,{roleCode:l}=e,c=[],s="",a="";async function i(){n(2,c=await Bt("/roles")),console.log(c)}async function r(t){await jt("/roles/"+t),await i()}i();return t.$$set=t=>{"selectedPage"in t&&n(0,o=t.selectedPage),"roleCode"in t&&n(1,l=t.roleCode)},[o,l,c,s,a,async function(){let t={code:s,name:a};await Et("/roles",t),await i(),n(3,s=""),n(4,a="")},r,t=>{n(0,o="role"),n(1,l=t.code)},t=>r(t.code),function(){s=this.value,n(3,s)},function(){a=this.value,n(4,a)}]}class et extends G{constructor(t){super(),W(this,t,tt,Z,s,{selectedPage:0,roleCode:1})}}function nt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function ot(t){let e,n,o,l,c,s,u,v,w,$,x,y,C,M,k,z=t[11]+1+"",L=t[9].code+"",H=t[9].name+"";function P(){return t[5](t[9])}return{c(){e=d("tr"),n=d("th"),o=f(z),l=h(),c=d("td"),s=f(L),u=h(),v=d("td"),w=f(H),$=h(),x=d("td"),y=d("span"),y.innerHTML='<svg class="bi bi-trash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" fill-rule="evenodd"></path></svg>',C=h(),p(n,"scope","row"),p(y,"class","text-danger"),b(y,"cursor","pointer"),b(x,"text-align","center")},m(t,r){i(t,e,r),a(e,n),a(n,o),a(e,l),a(e,c),a(c,s),a(e,u),a(e,v),a(v,w),a(e,$),a(e,x),a(x,y),a(e,C),M||(k=m(y,"click",P),M=!0)},p(e,n){t=e,1&n&&L!==(L=t[9].code+"")&&g(s,L),1&n&&H!==(H=t[9].name+"")&&g(w,H)},d(t){t&&r(e),M=!1,k()}}}function lt(t){let n,o,c,s,f,g,b,w,$,x,y,C,M,k,z,L,H,P,T,_,q,A,V,B,E,j,O,S,N,F,D,J,W,G=t[0],I=[];for(let e=0;e<G.length;e+=1)I[e]=ot(nt(t,G,e));return{c(){n=d("main"),o=d("div"),c=d("div"),s=d("div"),f=h(),g=d("div"),b=d("h1"),b.textContent="Функции",w=h(),$=d("h3"),$.textContent="Таблица функций",x=h(),y=d("table"),C=d("thead"),C.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Код</th> \n                        <th scope="col">Название</th> \n                        <th scope="col"></th></tr>',M=h(),k=d("tbody");for(let t=0;t<I.length;t+=1)I[t].c();z=h(),L=d("h3"),L.textContent="Добавить функцию",H=h(),P=d("form"),T=d("div"),_=d("label"),_.innerHTML='Код <span class="text-danger">*</span>',q=h(),A=d("input"),V=h(),B=d("div"),E=d("label"),E.innerHTML='Название <span class="text-danger">*</span>',j=h(),O=d("input"),S=h(),N=d("button"),N.textContent="Создать функцию",F=h(),D=d("div"),p(s,"class","col-2"),p($,"class","mt-5 mb-3"),p(y,"class","table"),p(L,"class","mt-5 mb-3"),p(_,"class","form-label"),p(_,"for","code"),p(A,"class","form-control"),p(A,"id","code"),A.required=!0,p(A,"type","text"),p(T,"class","mb-3"),p(E,"class","form-label"),p(E,"for","name"),p(O,"class","form-control"),p(O,"id","name"),O.required=!0,p(O,"type","text"),p(B,"class","mb-3"),p(N,"class","btn btn-secondary mb-5"),p(N,"id","send"),p(g,"class","col-8"),p(D,"class","col-2"),p(c,"class","row"),p(o,"class","container mt-5")},m(e,l){i(e,n,l),a(n,o),a(o,c),a(c,s),a(c,f),a(c,g),a(g,b),a(g,w),a(g,$),a(g,x),a(g,y),a(y,C),a(y,M),a(y,k);for(let t=0;t<I.length;t+=1)I[t].m(k,null);a(g,z),a(g,L),a(g,H),a(g,P),a(P,T),a(T,_),a(T,q),a(T,A),v(A,t[1]),a(P,V),a(P,B),a(B,E),a(B,j),a(B,O),v(O,t[2]),a(g,S),a(g,N),a(c,F),a(c,D),J||(W=[m(A,"input",t[6]),m(O,"input",t[7]),m(N,"click",t[3])],J=!0)},p(t,[e]){if(17&e){let n;for(G=t[0],n=0;n<G.length;n+=1){const o=nt(t,G,n);I[n]?I[n].p(o,e):(I[n]=ot(o),I[n].c(),I[n].m(k,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=G.length}2&e&&A.value!==t[1]&&v(A,t[1]),4&e&&O.value!==t[2]&&v(O,t[2])},i:e,o:e,d(t){t&&r(n),u(I,t),J=!1,l(W)}}}function ct(t,e,n){let o=[],l="",c="";async function s(){n(0,o=await Bt("/functions")),console.log(o)}async function a(t){await jt("/functions/"+t),await s()}s();return[o,l,c,async function(){let t={code:l,name:c};await Et("/functions",t),await s(),n(1,l=""),n(2,c="")},a,t=>a(t.code),function(){l=this.value,n(1,l)},function(){c=this.value,n(2,c)}]}class st extends G{constructor(t){super(),W(this,t,ct,lt,s,{})}}function at(t,e,n){const o=t.slice();return o[10]=e[n],o}function it(t,e,n){const o=t.slice();return o[13]=e[n],o}function rt(t,e,n){const o=t.slice();return o[16]=e[n],o}function ut(t){let e,n,o=t[16].name+"";return{c(){e=d("th"),n=f(o),p(e,"class","v-middle"),p(e,"scope","col"),b(e,"text-align","center")},m(t,o){i(t,e,o),a(e,n)},p(t,e){8&e&&o!==(o=t[16].name+"")&&g(n,o)},d(t){t&&r(e)}}}function dt(t){let e;return{c(){e=d("span"),e.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>',p(e,"class","svelte-1ow4dq9")},m(t,n){i(t,e,n)},d(t){t&&r(e)}}}function ft(t){let e;return{c(){e=d("span"),e.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',p(e,"class","text-success svelte-1ow4dq9")},m(t,n){i(t,e,n)},d(t){t&&r(e)}}}function ht(t){let e,n,o,l;function c(t,e){return t[13].has?ft:dt}let s=c(t),u=s(t);function f(){return t[6](t[13])}return{c(){e=d("td"),n=d("span"),u.c(),b(n,"cursor","pointer"),p(n,"class","svelte-1ow4dq9"),p(e,"class","v-middle"),b(e,"text-align","center")},m(t,c){i(t,e,c),a(e,n),u.m(n,null),o||(l=m(n,"click",f),o=!0)},p(e,o){s!==(s=c(t=e))&&(u.d(1),u=s(t),u&&(u.c(),u.m(n,null)))},d(t){t&&r(e),u.d(),o=!1,l()}}}function mt(t){let e,n,o,l,c,s,v,b,w,$,x=t[10].name+"";function y(){return t[5](t[10])}let C=t[10].permissions,M=[];for(let e=0;e<C.length;e+=1)M[e]=ht(it(t,C,e));return{c(){e=d("tr"),n=d("td"),o=d("span"),o.innerHTML='<svg class="bi bi-info-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>',l=h(),c=d("td"),s=f(x),v=h();for(let t=0;t<M.length;t+=1)M[t].c();b=h(),p(o,"class","text-info svelte-1ow4dq9"),p(n,"class","v-middle"),p(c,"class","v-middle")},m(t,r){i(t,e,r),a(e,n),a(n,o),a(e,l),a(e,c),a(c,s),a(e,v);for(let t=0;t<M.length;t+=1)M[t].m(e,null);a(e,b),w||($=m(o,"click",y),w=!0)},p(n,o){if(t=n,4&o&&x!==(x=t[10].name+"")&&g(s,x),20&o){let n;for(C=t[10].permissions,n=0;n<C.length;n+=1){const l=it(t,C,n);M[n]?M[n].p(l,o):(M[n]=ht(l),M[n].c(),M[n].m(e,b))}for(;n<M.length;n+=1)M[n].d(1);M.length=C.length}},d(t){t&&r(e),u(M,t),w=!1,$()}}}function pt(t){let n,o,l,c,s,f,m,g,v,b,w,$,x,y,C,M,k,z,L,H,P,T=t[3],_=[];for(let e=0;e<T.length;e+=1)_[e]=ut(rt(t,T,e));let q=t[2],A=[];for(let e=0;e<q.length;e+=1)A[e]=mt(at(t,q,e));return{c(){n=d("main"),o=d("div"),l=d("div"),c=d("div"),s=h(),f=d("div"),m=d("h1"),m.textContent="Разрешения",g=h(),v=d("h3"),v.textContent="Таблица разрешений",b=h(),w=d("table"),$=d("thead"),x=d("tr"),y=d("th"),y.textContent="?:)",C=h(),M=d("th"),M.textContent="Роль",k=h();for(let t=0;t<_.length;t+=1)_[t].c();z=h(),L=d("tbody");for(let t=0;t<A.length;t+=1)A[t].c();H=h(),P=d("div"),p(c,"class","col-1"),p(v,"class","mt-5 mb-3"),p(y,"class","v-middle"),p(y,"scope","col"),p(M,"class","v-middle"),p(M,"scope","col"),p(w,"class","table"),p(f,"class","col-10"),p(P,"class","col-1"),p(l,"class","row"),p(o,"class","mt-5")},m(t,e){i(t,n,e),a(n,o),a(o,l),a(l,c),a(l,s),a(l,f),a(f,m),a(f,g),a(f,v),a(f,b),a(f,w),a(w,$),a($,x),a(x,y),a(x,C),a(x,M),a(x,k);for(let t=0;t<_.length;t+=1)_[t].m(x,null);a(w,z),a(w,L);for(let t=0;t<A.length;t+=1)A[t].m(L,null);a(l,H),a(l,P)},p(t,[e]){if(8&e){let n;for(T=t[3],n=0;n<T.length;n+=1){const o=rt(t,T,n);_[n]?_[n].p(o,e):(_[n]=ut(o),_[n].c(),_[n].m(x,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=T.length}if(23&e){let n;for(q=t[2],n=0;n<q.length;n+=1){const o=at(t,q,n);A[n]?A[n].p(o,e):(A[n]=mt(o),A[n].c(),A[n].m(L,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=q.length}},i:e,o:e,d(t){t&&r(n),u(_,t),u(A,t)}}}function gt(t,e,n){let{selectedPage:o}=e,{roleCode:l}=e,c=[],s=[];async function a(){n(2,c=await Bt("/roles")),console.log(c)}async function i(t){await Et("/permissions/"+t+"/change"),await a()}a(),async function(){n(3,s=await Bt("/functions")),console.log(s)}();return t.$$set=t=>{"selectedPage"in t&&n(0,o=t.selectedPage),"roleCode"in t&&n(1,l=t.roleCode)},[o,l,c,s,i,t=>{n(0,o="role"),n(1,l=t.code)},t=>{i(t.uuid)}]}class vt extends G{constructor(t){super(),W(this,t,gt,pt,s,{selectedPage:0,roleCode:1})}}function bt(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function wt(t){let e;return{c(){e=d("span"),e.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>'},m(t,n){i(t,e,n)},d(t){t&&r(e)}}}function $t(t){let e;return{c(){e=d("span"),e.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',p(e,"class","text-success")},m(t,n){i(t,e,n)},d(t){t&&r(e)}}}function xt(t){let e,n,o,l,c,s,u,p,v,w,$,x,y,C,M,k=t[7]+1+"",z=t[5].function.name+"",L=t[5].function.code+"";function H(t,e){return t[5].has?$t:wt}let P=H(t),T=P(t);function _(){return t[3](t[5])}return{c(){e=d("tr"),n=d("td"),o=f(k),l=h(),c=d("td"),s=f(z),u=f(" ("),p=f(L),v=f(")"),w=h(),$=d("td"),x=d("span"),T.c(),y=h(),b(x,"cursor","pointer"),b($,"text-align","center")},m(t,r){i(t,e,r),a(e,n),a(n,o),a(e,l),a(e,c),a(c,s),a(c,u),a(c,p),a(c,v),a(e,w),a(e,$),a($,x),T.m(x,null),a(e,y),C||(M=m(x,"click",_),C=!0)},p(e,n){t=e,1&n&&z!==(z=t[5].function.name+"")&&g(s,z),1&n&&L!==(L=t[5].function.code+"")&&g(p,L),P!==(P=H(t))&&(T.d(1),T=P(t),T&&(T.c(),T.m(x,null)))},d(t){t&&r(e),T.d(),C=!1,M()}}}function yt(t){let n,o,l,c,s,m,v,b,w,$,x,y,C,M,k,z,L,H,P,T,_=t[0].name+"",q=t[0].code+"",A=t[0].permissions,V=[];for(let e=0;e<A.length;e+=1)V[e]=xt(bt(t,A,e));return{c(){n=d("main"),o=d("div"),l=d("div"),c=d("div"),s=h(),m=d("div"),v=d("h1"),b=f(_),w=f(" ("),$=f(q),x=f(")"),y=h(),C=d("h3"),C.textContent="Разрешения",M=h(),k=d("table"),z=d("thead"),z.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Функция</th> \n                        <th scope="col" style="text-align: center">Права</th></tr>',L=h(),H=d("tbody");for(let t=0;t<V.length;t+=1)V[t].c();P=h(),T=d("div"),p(c,"class","col-2"),p(C,"class","mt-5 mb-3"),p(k,"class","table"),p(m,"class","col-8"),p(T,"class","col-2"),p(l,"class","row"),p(o,"class","container mt-5")},m(t,e){i(t,n,e),a(n,o),a(o,l),a(l,c),a(l,s),a(l,m),a(m,v),a(v,b),a(v,w),a(v,$),a(v,x),a(m,y),a(m,C),a(m,M),a(m,k),a(k,z),a(k,L),a(k,H);for(let t=0;t<V.length;t+=1)V[t].m(H,null);a(l,P),a(l,T)},p(t,[e]){if(1&e&&_!==(_=t[0].name+"")&&g(b,_),1&e&&q!==(q=t[0].code+"")&&g($,q),3&e){let n;for(A=t[0].permissions,n=0;n<A.length;n+=1){const o=bt(t,A,n);V[n]?V[n].p(o,e):(V[n]=xt(o),V[n].c(),V[n].m(H,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=A.length}},i:e,o:e,d(t){t&&r(n),u(V,t)}}}function Ct(t,e,n){let{roleCode:o}=e,l={permissions:[]};async function c(){n(0,l=await Bt("/roles/"+o)),console.log(l),console.log(l.permissions)}async function s(t){await Et("/permissions/"+t+"/change"),await c()}c();return t.$$set=t=>{"roleCode"in t&&n(2,o=t.roleCode)},[l,s,o,t=>{s(t.uuid)}]}class Mt extends G{constructor(t){super(),W(this,t,Ct,yt,s,{roleCode:2})}}function kt(t){let e,n;return e=new U({}),{c(){N(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function zt(t){let e,n,o,l;function c(e){t[3](e)}function s(e){t[4](e)}let a={};return void 0!==t[0]&&(a.selectedPage=t[0]),void 0!==t[1]&&(a.roleCode=t[1]),e=new et({props:a}),y.push((()=>S(e,"selectedPage",c))),y.push((()=>S(e,"roleCode",s))),{c(){N(e.$$.fragment)},m(t,n){F(e,t,n),l=!0},p(t,l){const c={};!n&&1&l&&(n=!0,c.selectedPage=t[0],H((()=>n=!1))),!o&&2&l&&(o=!0,c.roleCode=t[1],H((()=>o=!1))),e.$set(c)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Lt(t){let e,n;return e=new st({}),{c(){N(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Ht(t){let e,n,o,l;function c(e){t[5](e)}function s(e){t[6](e)}let a={};return void 0!==t[0]&&(a.selectedPage=t[0]),void 0!==t[1]&&(a.roleCode=t[1]),e=new vt({props:a}),y.push((()=>S(e,"selectedPage",c))),y.push((()=>S(e,"roleCode",s))),{c(){N(e.$$.fragment)},m(t,n){F(e,t,n),l=!0},p(t,l){const c={};!n&&1&l&&(n=!0,c.selectedPage=t[0],H((()=>n=!1))),!o&&2&l&&(o=!0,c.roleCode=t[1],H((()=>o=!1))),e.$set(c)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Pt(t){let e,n;return e=new Mt({props:{roleCode:t[1]}}),{c(){N(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.roleCode=t[1]),e.$set(o)},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Tt(t){let e,n,o,l,c,s,u,f,m;function p(e){t[2](e)}let g={};void 0!==t[0]&&(g.selectedPage=t[0]),n=new Q({props:g}),y.push((()=>S(n,"selectedPage",p)));let v="home"===t[0]&&kt(),b="roles"===t[0]&&zt(t),w="functions"===t[0]&&Lt(),$="permissions"===t[0]&&Ht(t),x="role"===t[0]&&Pt(t);return{c(){e=d("main"),N(n.$$.fragment),l=h(),v&&v.c(),c=h(),b&&b.c(),s=h(),w&&w.c(),u=h(),$&&$.c(),f=h(),x&&x.c()},m(t,o){i(t,e,o),F(n,e,null),a(e,l),v&&v.m(e,null),a(e,c),b&&b.m(e,null),a(e,s),w&&w.m(e,null),a(e,u),$&&$.m(e,null),a(e,f),x&&x.m(e,null),m=!0},p(t,[l]){const a={};!o&&1&l&&(o=!0,a.selectedPage=t[0],H((()=>o=!1))),n.$set(a),"home"===t[0]?v?1&l&&j(v,1):(v=kt(),v.c(),j(v,1),v.m(e,c)):v&&(B(),O(v,1,1,(()=>{v=null})),E()),"roles"===t[0]?b?(b.p(t,l),1&l&&j(b,1)):(b=zt(t),b.c(),j(b,1),b.m(e,s)):b&&(B(),O(b,1,1,(()=>{b=null})),E()),"functions"===t[0]?w?1&l&&j(w,1):(w=Lt(),w.c(),j(w,1),w.m(e,u)):w&&(B(),O(w,1,1,(()=>{w=null})),E()),"permissions"===t[0]?$?($.p(t,l),1&l&&j($,1)):($=Ht(t),$.c(),j($,1),$.m(e,f)):$&&(B(),O($,1,1,(()=>{$=null})),E()),"role"===t[0]?x?(x.p(t,l),1&l&&j(x,1)):(x=Pt(t),x.c(),j(x,1),x.m(e,null)):x&&(B(),O(x,1,1,(()=>{x=null})),E())},i(t){m||(j(n.$$.fragment,t),j(v),j(b),j(w),j($),j(x),m=!0)},o(t){O(n.$$.fragment,t),O(v),O(b),O(w),O($),O(x),m=!1},d(t){t&&r(e),D(n),v&&v.d(),b&&b.d(),w&&w.d(),$&&$.d(),x&&x.d()}}}function _t(t,e,n){let o="home",l="";return[o,l,function(t){o=t,n(0,o)},function(t){o=t,n(0,o)},function(t){l=t,n(1,l)},function(t){o=t,n(0,o)},function(t){l=t,n(1,l)}]}const qt=new class extends G{constructor(t){super(),W(this,t,_t,Tt,s,{})}}({target:document.body});let At=window.location.href;function Vt(t,e){return t.startsWith(e)?t.slice(e.length):t}async function Bt(t){let e=await fetch(At+Vt(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:admin")}});return await e.json()}async function Et(t,e){return(await fetch(At+Vt(t,"/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:admin")},body:JSON.stringify(e)})).json()}async function jt(t){return(await fetch(At+Vt(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:admin")}})).json()}return t.default=qt,t.deleteFetch=jt,t.getFetch=Bt,t.postFetch=Et,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundle.js.map
