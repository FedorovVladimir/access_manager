var app=function(t){"use strict";function n(){}function e(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(e)}function s(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function p(){return f("")}function g(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function v(t,n){t.value=null==n?"":n}function w(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let b;function x(t){b=t}function C(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t(n)))}const y=[],k=[],H=[],M=[],_=Promise.resolve();let P=!1;function L(t){H.push(t)}function T(t){M.push(t)}let z=!1;const q=new Set;function O(){if(!z){z=!0;do{for(let t=0;t<y.length;t+=1){const n=y[t];x(n),A(n.$$)}for(x(null),y.length=0;k.length;)k.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];q.has(n)||(q.add(n),n())}H.length=0}while(y.length);for(;M.length;)M.pop()();P=!1,z=!1,q.clear()}}function A(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(L)}}const B=new Set;let N;function j(){N={r:0,c:[],p:N}}function E(){N.r||l(N.c),N=N.p}function Y(t,n){t&&t.i&&(B.delete(t),t.i(n))}function V(t,n,e,o){if(t&&t.o){if(B.has(t))return;B.add(t),N.c.push((()=>{B.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function I(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function S(t){t&&t.c()}function F(t,n,o,c){const{fragment:i,on_mount:r,on_destroy:a,after_update:u}=t.$$;i&&i.m(n,o),c||L((()=>{const n=r.map(e).filter(s);a?a.push(...n):l(n),t.$$.on_mount=[]})),u.forEach(L)}function J(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(y.push(t),P||(P=!0,_.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function D(t,e,s,c,i,r,u=[-1]){const d=b;x(t);const f=t.$$={fragment:null,ctx:null,props:r,update:n,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let m=!1;if(f.ctx=s?s(t,e.props||{},((n,e,...o)=>{const l=o.length?o[0]:e;return f.ctx&&i(f.ctx[n],f.ctx[n]=l)&&(!f.skip_bound&&f.bound[n]&&f.bound[n](l),m&&U(t,n)),e})):[],f.update(),m=!0,l(f.before_update),f.fragment=!!c&&c(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(a)}else f.fragment&&f.fragment.c();e.intro&&Y(t.$$.fragment),F(t,e.target,e.anchor,e.customElement),O()}x(d)}class W{$destroy(){J(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t){let e,o,s,c,u,f,p,h,v,w,b,x,C,y,k,H,M,_,P,L,T,z;return{c(){e=d("main"),o=d("nav"),s=d("div"),c=d("a"),c.textContent="access_manager",u=m(),f=d("div"),p=d("ul"),h=d("li"),v=d("a"),v.textContent="Главная",w=m(),b=d("li"),x=d("a"),x.textContent="Роли",C=m(),y=d("li"),k=d("a"),k.textContent="Функции",H=m(),M=d("li"),_=d("a"),_.textContent="Разрешения",P=m(),L=d("li"),L.innerHTML='<a class="nav-link svelte-1iqrkeo" href="/redoc/index.html" target="_blank">Документация</a>',$(c,"class","navbar-brand svelte-1iqrkeo"),$(v,"class","nav-link svelte-1iqrkeo"),$(h,"class","nav-item"),$(x,"class","nav-link svelte-1iqrkeo"),$(b,"class","nav-item"),$(k,"class","nav-link svelte-1iqrkeo"),$(y,"class","nav-item"),$(_,"class","nav-link svelte-1iqrkeo"),$(M,"class","nav-item"),$(L,"class","nav-item"),$(p,"class","navbar-nav mr-auto mb-2 mb-lg-0"),$(f,"class","navbar-collapse"),$(f,"id","navbarSupportedContent"),$(s,"class","container-fluid"),$(o,"class","navbar navbar-expand-lg navbar-dark bg-dark")},m(n,l){r(n,e,l),i(e,o),i(o,s),i(s,c),i(s,u),i(s,f),i(f,p),i(p,h),i(h,v),i(p,w),i(p,b),i(b,x),i(p,C),i(p,y),i(y,k),i(p,H),i(p,M),i(M,_),i(p,P),i(p,L),T||(z=[g(c,"click",t[1]),g(v,"click",t[2]),g(x,"click",t[3]),g(k,"click",t[4]),g(_,"click",t[5])],T=!0)},p:n,i:n,o:n,d(t){t&&a(e),T=!1,l(z)}}}function K(t,n,e){let{selectedPage:o}=n;return t.$$set=t=>{"selectedPage"in t&&e(0,o=t.selectedPage)},[o,()=>e(0,o="home"),()=>e(0,o="home"),()=>e(0,o="roles"),()=>e(0,o="functions"),()=>e(0,o="permissions")]}class Q extends W{constructor(t){super(),D(this,t,K,G,c,{selectedPage:0})}}function R(t){let n,e,o,l,s;return{c(){n=d("button"),e=d("div"),o=f(t[0]),$(e,"class","hig svelte-p3urre"),$(n,"class","svelte-p3urre")},m(c,a){r(c,n,a),i(n,e),i(e,o),l||(s=g(n,"click",t[3]),l=!0)},p(t,n){1&n&&h(o,t[0])},d(t){t&&a(n),l=!1,s()}}}function X(t){let n,e,o,l,s,c,u;return{c(){n=d("button"),e=d("span"),o=m(),l=d("div"),s=f(t[0]),$(e,"class","hig spinner svelte-p3urre"),$(l,"class","text svelte-p3urre"),$(n,"class","svelte-p3urre")},m(a,d){r(a,n,d),i(n,e),i(n,o),i(n,l),i(l,s),c||(u=g(n,"click",t[2]),c=!0)},p(t,n){1&n&&h(s,t[0])},d(t){t&&a(n),c=!1,u()}}}function Z(t){let e;function o(t,n){return t[1]?X:R}let l=o(t),s=l(t);return{c(){s.c(),e=p()},m(t,n){s.m(t,n),r(t,e,n)},p(t,[n]){l===(l=o(t))&&s?s.p(t,n):(s.d(1),s=l(t),s&&(s.c(),s.m(e.parentNode,e)))},i:n,o:n,d(t){s.d(t),t&&a(e)}}}function tt(t,n,e){let{text:o}=n,{load:l}=n;return t.$$set=t=>{"text"in t&&e(0,o=t.text),"load"in t&&e(1,l=t.load)},[o,l,function(n){C(t,n)},function(n){C(t,n)}]}class nt extends W{constructor(t){super(),D(this,t,tt,Z,c,{text:0,load:1})}}function et(t){let n,e,o,l,c,u,p,g,v,w;return p=new nt({props:{text:"Нет"}}),p.$on("click",t[4]),v=new nt({props:{text:"Да"}}),v.$on("click",(function(){s(t[3](t[2]))&&t[3](t[2]).apply(this,arguments)})),{c(){n=d("main"),e=d("div"),o=d("div"),l=d("p"),c=f(t[1]),u=m(),S(p.$$.fragment),g=m(),S(v.$$.fragment),$(o,"class","myModal svelte-v8hmus"),$(e,"class","myModalBg svelte-v8hmus"),e.hidden=t[0]},m(t,s){r(t,n,s),i(n,e),i(e,o),i(o,l),i(l,c),i(o,u),F(p,o,null),i(o,g),F(v,o,null),w=!0},p(n,[o]){t=n,(!w||2&o)&&h(c,t[1]),(!w||1&o)&&(e.hidden=t[0])},i(t){w||(Y(p.$$.fragment,t),Y(v.$$.fragment,t),w=!0)},o(t){V(p.$$.fragment,t),V(v.$$.fragment,t),w=!1},d(t){t&&a(n),J(p),J(v)}}}function ot(t,n,e){let{text:o}=n,{isHidden:l}=n,{itemCode:s}=n,{functionOnYes:c}=n;return t.$$set=t=>{"text"in t&&e(1,o=t.text),"isHidden"in t&&e(0,l=t.isHidden),"itemCode"in t&&e(2,s=t.itemCode),"functionOnYes"in t&&e(3,c=t.functionOnYes)},[l,o,s,c,()=>{e(0,l=!0)}]}class lt extends W{constructor(t){super(),D(this,t,ot,et,c,{text:1,isHidden:0,itemCode:2,functionOnYes:3})}}function st(t){let e;return{c(){e=d("span"),e.textContent="*",$(e,"class","text-danger")},m(t,n){r(t,e,n)},p:n,i:n,o:n,d(t){t&&a(e)}}}class ct extends W{constructor(t){super(),D(this,t,null,st,c,{})}}function it(t){let n,e,o,s,c,u,p,h,w,b,x,C,y,H,M,_,P,L,z,q,O,A,B,N,j,E,U,D,W,G,K,Q,R,X,Z,tt,et,ot,st,it,rt,at,ut,dt,ft,mt,pt,gt,$t,ht,vt,wt,bt,xt,Ct,yt,kt,Ht,Mt,_t,Pt,Lt,Tt,zt,qt,Ot,At,Bt,Nt,jt,Et,Yt,Vt,It,St,Ft,Jt,Ut,Dt,Wt,Gt;function Kt(n){t[16](n)}let Qt={text:"Скачать схему"};function Rt(n){t[18](n)}void 0!==t[5]&&(Qt.load=t[5]),K=new nt({props:Qt}),k.push((()=>I(K,"load",Kt))),K.$on("click",t[10]);let Xt={text:"Загрузить схему"};function Zt(n){t[22](n)}void 0!==t[7]&&(Xt.load=t[7]),at=new nt({props:Xt}),k.push((()=>I(at,"load",Rt))),at.$on("click",t[11]),vt=new ct({}),Mt=new ct({}),Ot=new ct({});let tn={text:"Загрузить"};function nn(n){t[23](n)}void 0!==t[0]&&(tn.load=t[0]),jt=new nt({props:tn}),k.push((()=>I(jt,"load",Zt))),jt.$on("click",t[12]);let en={text:"Вы уверены?",itemCode:0,functionOnYes:t[9]};return void 0!==t[1]&&(en.isHidden=t[1]),Vt=new lt({props:en}),k.push((()=>I(Vt,"isHidden",nn))),{c(){n=d("main"),e=d("div"),o=d("div"),s=d("div"),c=m(),u=d("div"),p=d("h1"),p.textContent="Главная",h=m(),w=d("h3"),w.textContent="Описание",b=m(),x=d("p"),x.innerHTML="<b>access_manager</b> - вспомогательное ПО для контроля <i>разрешений</i> пользователей с\n                    различными <i>ролями</i>\n                    на доступ к той или иной функциональности основного ПО.",C=m(),y=d("h3"),y.textContent="Словарь",H=m(),M=d("p"),M.innerHTML="<b>Роль (role)</b> - группа людей имеющих доступ к одной и той же функциональность основного ПО.",_=m(),P=d("p"),P.innerHTML="<b>Функция (function)</b> - часть функциональности основного ПО доступ к которой может быть\n                    открыт/закрыт\n                    для любой из <i>ролей</i>.",L=m(),z=d("p"),z.innerHTML="<b>Разрешение (permission)</b> - возможность/невозможность пользования <i>функцией</i> для\n                    <i>роли</i>.",q=m(),O=d("h3"),O.textContent="Синхронизация",A=m(),B=d("h5"),B.textContent="Скачать схему",N=m(),j=d("form"),E=d("div"),U=d("label"),U.textContent="Схема",D=m(),W=d("textarea"),G=m(),S(K.$$.fragment),R=m(),X=d("h5"),X.textContent="Загрузить схему",Z=m(),tt=d("form"),et=d("div"),ot=d("label"),ot.textContent="Схема",st=m(),it=d("textarea"),rt=m(),S(at.$$.fragment),dt=m(),ft=d("h5"),ft.textContent="С удаленного сервера",mt=m(),pt=d("form"),gt=d("div"),$t=d("label"),ht=f("Url\n                            "),S(vt.$$.fragment),wt=f("\n                            (http://host:port/data)"),bt=m(),xt=d("input"),Ct=m(),yt=d("div"),kt=d("label"),Ht=f("Login\n                            "),S(Mt.$$.fragment),_t=m(),Pt=d("input"),Lt=m(),Tt=d("div"),zt=d("label"),qt=f("Password\n                            "),S(Ot.$$.fragment),At=m(),Bt=d("input"),Nt=m(),S(jt.$$.fragment),Yt=m(),S(Vt.$$.fragment),St=m(),Ft=d("h3"),Ft.textContent="Конец",Jt=m(),Ut=d("div"),$(s,"class","col-2"),$(w,"class","mt-5 mb-3"),$(y,"class","mt-5 mb-3"),$(O,"class","mt-5 mb-3"),$(B,"class","mt-5 mb-3"),$(U,"class","form-label"),$(U,"for","scheme_1"),$(W,"id","scheme_1"),$(W,"class","form-control"),W.readOnly=!0,$(E,"class","mb-3"),$(X,"class","mt-5 mb-3"),$(ot,"class","form-label"),$(ot,"for","scheme_2"),$(it,"id","scheme_2"),$(it,"class","form-control"),$(et,"class","mb-3"),$(ft,"class","mt-5 mb-3"),$($t,"class","form-label"),$($t,"for","url"),$(xt,"type","text"),$(xt,"class","form-control"),$(xt,"id","url"),xt.required=!0,$(gt,"class","mb-3"),$(kt,"class","form-label"),$(kt,"for","login"),$(Pt,"type","text"),$(Pt,"class","form-control"),$(Pt,"id","login"),Pt.required=!0,$(yt,"class","mb-3"),$(zt,"class","form-label"),$(zt,"for","pass"),$(Bt,"type","password"),$(Bt,"class","form-control"),$(Bt,"id","pass"),Bt.required=!0,$(Tt,"class","mb-3"),$(Ft,"class","mt-5 mb-3"),$(u,"class","col-8"),$(Ut,"class","col-2"),$(o,"class","row"),$(e,"class","container mt-5")},m(l,a){r(l,n,a),i(n,e),i(e,o),i(o,s),i(o,c),i(o,u),i(u,p),i(u,h),i(u,w),i(u,b),i(u,x),i(u,C),i(u,y),i(u,H),i(u,M),i(u,_),i(u,P),i(u,L),i(u,z),i(u,q),i(u,O),i(u,A),i(u,B),i(u,N),i(u,j),i(j,E),i(E,U),i(E,D),i(E,W),v(W,t[6]),i(u,G),F(K,u,null),i(u,R),i(u,X),i(u,Z),i(u,tt),i(tt,et),i(et,ot),i(et,st),i(et,it),v(it,t[8]),i(u,rt),F(at,u,null),i(u,dt),i(u,ft),i(u,mt),i(u,pt),i(pt,gt),i(gt,$t),i($t,ht),F(vt,$t,null),i($t,wt),i(gt,bt),i(gt,xt),v(xt,t[2]),i(pt,Ct),i(pt,yt),i(yt,kt),i(kt,Ht),F(Mt,kt,null),i(yt,_t),i(yt,Pt),v(Pt,t[3]),i(pt,Lt),i(pt,Tt),i(Tt,zt),i(zt,qt),F(Ot,zt,null),i(Tt,At),i(Tt,Bt),v(Bt,t[4]),i(u,Nt),F(jt,u,null),i(u,Yt),F(Vt,u,null),i(u,St),i(u,Ft),i(o,Jt),i(o,Ut),Dt=!0,Wt||(Gt=[g(W,"input",t[15]),g(it,"input",t[17]),g(xt,"input",t[19]),g(Pt,"input",t[20]),g(Bt,"input",t[21])],Wt=!0)},p(t,[n]){64&n&&v(W,t[6]);const e={};!Q&&32&n&&(Q=!0,e.load=t[5],T((()=>Q=!1))),K.$set(e),256&n&&v(it,t[8]);const o={};!ut&&128&n&&(ut=!0,o.load=t[7],T((()=>ut=!1))),at.$set(o),4&n&&xt.value!==t[2]&&v(xt,t[2]),8&n&&Pt.value!==t[3]&&v(Pt,t[3]),16&n&&Bt.value!==t[4]&&v(Bt,t[4]);const l={};!Et&&1&n&&(Et=!0,l.load=t[0],T((()=>Et=!1))),jt.$set(l);const s={};!It&&2&n&&(It=!0,s.isHidden=t[1],T((()=>It=!1))),Vt.$set(s)},i(t){Dt||(Y(K.$$.fragment,t),Y(at.$$.fragment,t),Y(vt.$$.fragment,t),Y(Mt.$$.fragment,t),Y(Ot.$$.fragment,t),Y(jt.$$.fragment,t),Y(Vt.$$.fragment,t),Dt=!0)},o(t){V(K.$$.fragment,t),V(at.$$.fragment,t),V(vt.$$.fragment,t),V(Mt.$$.fragment,t),V(Ot.$$.fragment,t),V(jt.$$.fragment,t),V(Vt.$$.fragment,t),Dt=!1},d(t){t&&a(n),J(K),J(at),J(vt),J(Mt),J(Ot),J(jt),J(Vt),Wt=!1,l(Gt)}}}function rt(t,n,e){let{login:o}=n,{password:l}=n,s=!1,c=!0,i="",r="",a="",u=!1,d="",f=!1,m="";return t.$$set=t=>{"login"in t&&e(13,o=t.login),"password"in t&&e(14,l=t.password)},[s,c,i,r,a,u,d,f,m,async function(t){e(0,s=!0);let n=await vn(i,r,a);await wn("/data",o,l,n),e(0,s=!1),e(1,c=!0)},async function(){e(5,u=!0),e(6,d=JSON.stringify(await hn("/data",o,l))),e(5,u=!1)},async function(){e(7,f=!0),await wn("/data",o,l,JSON.parse(m)),e(7,f=!1)},function(){e(1,c=!1)},o,l,function(){d=this.value,e(6,d)},function(t){u=t,e(5,u)},function(){m=this.value,e(8,m)},function(t){f=t,e(7,f)},function(){i=this.value,e(2,i)},function(){r=this.value,e(3,r)},function(){a=this.value,e(4,a)},function(t){s=t,e(0,s)},function(t){c=t,e(1,c)}]}class at extends W{constructor(t){super(),D(this,t,rt,it,c,{login:13,password:14})}}function ut(t){let e,o,l,s;return{c(){e=d("main"),o=d("span"),o.innerHTML='<svg class="bi bi-info-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>',$(o,"class","text-info icons svelte-18s0ls9")},m(n,c){r(n,e,c),i(e,o),l||(s=g(o,"click",t[0]),l=!0)},p:n,i:n,o:n,d(t){t&&a(e),l=!1,s()}}}function dt(t){return[function(n){C(t,n)}]}class ft extends W{constructor(t){super(),D(this,t,dt,ut,c,{})}}function mt(t){let e,o,l,s;return{c(){e=d("main"),o=d("span"),o.innerHTML='<svg class="bi bi-trash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" fill-rule="evenodd"></path></svg>',$(o,"class","text-danger icons svelte-18s0ls9")},m(n,c){r(n,e,c),i(e,o),l||(s=g(o,"click",t[0]),l=!0)},p:n,i:n,o:n,d(t){t&&a(e),l=!1,s()}}}function pt(t){return[function(n){C(t,n)}]}class gt extends W{constructor(t){super(),D(this,t,pt,mt,c,{})}}function $t(t,n,e){const o=t.slice();return o[24]=n[e],o[26]=e,o}function ht(t){let e;return{c(){e=d("p"),e.textContent="Загрузка..."},m(t,n){r(t,e,n)},p:n,i:n,o:n,d(t){t&&a(e)}}}function vt(t){let n,e,o,l,s,c,f,g=t[2],h=[];for(let n=0;n<g.length;n+=1)h[n]=wt($t(t,g,n));const v=t=>V(h[t],1,1,(()=>{h[t]=null}));let w=0===t[2].length&&bt();return{c(){n=d("table"),e=d("thead"),e.innerHTML='<tr><th scope="col">№</th> \n                            <th scope="col">Код</th> \n                            <th scope="col">Название</th> \n                            <th scope="col"></th> \n                            <th scope="col"></th></tr>',o=m(),l=d("tbody");for(let t=0;t<h.length;t+=1)h[t].c();s=m(),w&&w.c(),c=p(),$(n,"class","table")},m(t,a){r(t,n,a),i(n,e),i(n,o),i(n,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null);r(t,s,a),w&&w.m(t,a),r(t,c,a),f=!0},p(t,n){if(8199&n){let e;for(g=t[2],e=0;e<g.length;e+=1){const o=$t(t,g,e);h[e]?(h[e].p(o,n),Y(h[e],1)):(h[e]=wt(o),h[e].c(),Y(h[e],1),h[e].m(l,null))}for(j(),e=g.length;e<h.length;e+=1)v(e);E()}0===t[2].length?w||(w=bt(),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null)},i(t){if(!f){for(let t=0;t<g.length;t+=1)Y(h[t]);f=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)V(h[t]);f=!1},d(t){t&&a(n),u(h,t),t&&a(s),w&&w.d(t),t&&a(c)}}}function wt(t){let n,e,o,l,s,c,u,p,g,v,b,x,C,y,k,H,M,_=t[26]+1+"",P=t[24].code+"",L=t[24].name+"";return x=new ft({}),x.$on("click",(function(){return t[16](t[24])})),k=new gt({}),k.$on("click",(function(){return t[17](t[24])})),{c(){n=d("tr"),e=d("th"),o=f(_),l=m(),s=d("td"),c=f(P),u=m(),p=d("td"),g=f(L),v=m(),b=d("td"),S(x.$$.fragment),C=m(),y=d("td"),S(k.$$.fragment),H=m(),$(e,"scope","row"),w(b,"text-align","center"),w(y,"text-align","center")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(n,l),i(n,s),i(s,c),i(n,u),i(n,p),i(p,g),i(n,v),i(n,b),F(x,b,null),i(n,C),i(n,y),F(k,y,null),i(n,H),M=!0},p(n,e){t=n,(!M||4&e)&&P!==(P=t[24].code+"")&&h(c,P),(!M||4&e)&&L!==(L=t[24].name+"")&&h(g,L)},i(t){M||(Y(x.$$.fragment,t),Y(k.$$.fragment,t),M=!0)},o(t){V(x.$$.fragment,t),V(k.$$.fragment,t),M=!1},d(t){t&&a(n),J(x),J(k)}}}function bt(t){let n;return{c(){n=d("p"),n.textContent="Ролей пока нет"},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function xt(t){let n,e;return{c(){n=d("div"),e=f(t[7]),$(n,"class","alert alert-dark"),$(n,"role","alert")},m(t,o){r(t,n,o),i(n,e)},p(t,n){128&n&&h(e,t[7])},d(t){t&&a(n)}}}function Ct(t){let n,e,o,s,c,u,p,h,w,b,x,C,y,H,M,_,P,L,z,q,O,A,B,N,U,D,W,G,K,Q,R,X,Z,tt,et,ot,st,it,rt,at,ut;const dt=[vt,ht],ft=[];function mt(t,n){return t[8]?0:1}x=mt(t),C=ft[x]=dt[x](t);let pt=t[6]&&xt(t);function gt(n){t[20](n)}O=new ct({}),G=new ct({});let $t={text:"Создать роль"};function wt(n){t[21](n)}void 0!==t[9]&&($t.load=t[9]),X=new nt({props:$t}),k.push((()=>I(X,"load",gt))),X.$on("click",t[11]);let bt={text:"Вы уверены?",itemCode:t[5],functionOnYes:t[12]};return void 0!==t[10]&&(bt.isHidden=t[10]),st=new lt({props:bt}),k.push((()=>I(st,"isHidden",wt))),{c(){n=d("main"),e=d("div"),o=d("div"),s=d("div"),c=m(),u=d("div"),p=d("h1"),p.textContent="Роли",h=m(),w=d("h3"),w.textContent="Таблица ролей",b=m(),C.c(),y=m(),H=d("h3"),H.textContent="Добавить роль",M=m(),pt&&pt.c(),_=m(),P=d("form"),L=d("div"),z=d("label"),q=f("Код "),S(O.$$.fragment),A=m(),B=d("input"),N=m(),U=d("div"),D=d("label"),W=f("Название "),S(G.$$.fragment),K=m(),Q=d("input"),R=m(),S(X.$$.fragment),tt=m(),et=d("div"),ot=m(),S(st.$$.fragment),$(s,"class","col-2"),$(w,"class","mt-5 mb-3"),$(H,"class","mt-5 mb-3"),$(z,"class","form-label"),$(z,"for","code"),$(B,"class","form-control"),$(B,"id","code"),B.required=!0,$(B,"type","text"),$(L,"class","mb-3"),$(D,"class","form-label"),$(D,"for","name"),$(Q,"class","form-control"),$(Q,"id","name"),Q.required=!0,$(Q,"type","text"),$(U,"class","mb-3"),$(u,"class","col-8"),$(et,"class","col-2"),$(o,"class","row"),$(e,"class","container mt-5")},m(l,a){r(l,n,a),i(n,e),i(e,o),i(o,s),i(o,c),i(o,u),i(u,p),i(u,h),i(u,w),i(u,b),ft[x].m(u,null),i(u,y),i(u,H),i(u,M),pt&&pt.m(u,null),i(u,_),i(u,P),i(P,L),i(L,z),i(z,q),F(O,z,null),i(L,A),i(L,B),v(B,t[3]),i(P,N),i(P,U),i(U,D),i(D,W),F(G,D,null),i(U,K),i(U,Q),v(Q,t[4]),i(u,R),F(X,u,null),i(o,tt),i(o,et),i(o,ot),F(st,o,null),rt=!0,at||(ut=[g(B,"input",t[18]),g(Q,"input",t[19])],at=!0)},p(t,[n]){let e=x;x=mt(t),x===e?ft[x].p(t,n):(j(),V(ft[e],1,1,(()=>{ft[e]=null})),E(),C=ft[x],C?C.p(t,n):(C=ft[x]=dt[x](t),C.c()),Y(C,1),C.m(u,y)),t[6]?pt?pt.p(t,n):(pt=xt(t),pt.c(),pt.m(u,_)):pt&&(pt.d(1),pt=null),8&n&&B.value!==t[3]&&v(B,t[3]),16&n&&Q.value!==t[4]&&v(Q,t[4]);const o={};!Z&&512&n&&(Z=!0,o.load=t[9],T((()=>Z=!1))),X.$set(o);const l={};32&n&&(l.itemCode=t[5]),!it&&1024&n&&(it=!0,l.isHidden=t[10],T((()=>it=!1))),st.$set(l)},i(t){rt||(Y(C),Y(O.$$.fragment,t),Y(G.$$.fragment,t),Y(X.$$.fragment,t),Y(st.$$.fragment,t),rt=!0)},o(t){V(C),V(O.$$.fragment,t),V(G.$$.fragment,t),V(X.$$.fragment,t),V(st.$$.fragment,t),rt=!1},d(t){t&&a(n),ft[x].d(),pt&&pt.d(),J(O),J(G),J(X),J(st),at=!1,l(ut)}}}function yt(t,n,e){let{login:o}=n,{password:l}=n,{selectedPage:s}=n,{roleCode:c}=n,i=[],r="",a="",u="",d=!1,f="",m=!1,p=!1,g=!0;async function $(){e(8,m=!1),e(2,i=await hn("/roles",o,l)),e(8,m=!0)}function h(t){e(5,u=t),e(10,g=!1)}$();return t.$$set=t=>{"login"in t&&e(14,o=t.login),"password"in t&&e(15,l=t.password),"selectedPage"in t&&e(0,s=t.selectedPage),"roleCode"in t&&e(1,c=t.roleCode)},[s,c,i,r,a,u,d,f,m,p,g,async function(){if(!(""===r?(e(7,f="Поле код не может быть пустым"),e(6,d=!0),0):""===a?(e(7,f="Поле название не может быть пустым"),e(6,d=!0),0):(e(6,d=!1),1)))return;e(9,p=!0);let t={code:r,name:a},n=await wn("/roles",o,l,t);void 0!==n.message&&(e(6,d=!0),e(7,f=n.message)),await $(),e(3,r=""),e(4,a=""),e(9,p=!1)},async function(t){await bn("/roles/"+t,o,l),e(10,g=!0),await $()},h,o,l,t=>{e(0,s="role"),e(1,c=t.code)},t=>h(t.code),function(){r=this.value,e(3,r)},function(){a=this.value,e(4,a)},function(t){p=t,e(9,p)},function(t){g=t,e(10,g)}]}class kt extends W{constructor(t){super(),D(this,t,yt,Ct,c,{login:14,password:15,selectedPage:0,roleCode:1})}}function Ht(t,n,e){const o=t.slice();return o[21]=n[e],o[23]=e,o}function Mt(t){let e;return{c(){e=d("p"),e.textContent="Загрузка..."},m(t,n){r(t,e,n)},p:n,i:n,o:n,d(t){t&&a(e)}}}function _t(t){let n,e,o,l,s,c,f,g=t[0],h=[];for(let n=0;n<g.length;n+=1)h[n]=Pt(Ht(t,g,n));const v=t=>V(h[t],1,1,(()=>{h[t]=null}));let w=0===t[0].length&&Lt();return{c(){n=d("table"),e=d("thead"),e.innerHTML='<tr><th scope="col">№</th> \n                            <th scope="col">Код</th> \n                            <th scope="col">Название</th> \n                            <th scope="col"></th></tr>',o=m(),l=d("tbody");for(let t=0;t<h.length;t+=1)h[t].c();s=m(),w&&w.c(),c=p(),$(n,"class","table")},m(t,a){r(t,n,a),i(n,e),i(n,o),i(n,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null);r(t,s,a),w&&w.m(t,a),r(t,c,a),f=!0},p(t,n){if(2049&n){let e;for(g=t[0],e=0;e<g.length;e+=1){const o=Ht(t,g,e);h[e]?(h[e].p(o,n),Y(h[e],1)):(h[e]=Pt(o),h[e].c(),Y(h[e],1),h[e].m(l,null))}for(j(),e=g.length;e<h.length;e+=1)v(e);E()}0===t[0].length?w||(w=Lt(),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null)},i(t){if(!f){for(let t=0;t<g.length;t+=1)Y(h[t]);f=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)V(h[t]);f=!1},d(t){t&&a(n),u(h,t),t&&a(s),w&&w.d(t),t&&a(c)}}}function Pt(t){let n,e,o,l,s,c,u,p,g,v,b,x,C,y,k=t[23]+1+"",H=t[21].code+"",M=t[21].name+"";return x=new gt({}),x.$on("click",(function(){return t[14](t[21])})),{c(){n=d("tr"),e=d("th"),o=f(k),l=m(),s=d("td"),c=f(H),u=m(),p=d("td"),g=f(M),v=m(),b=d("td"),S(x.$$.fragment),C=m(),$(e,"scope","row"),w(b,"text-align","center")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(n,l),i(n,s),i(s,c),i(n,u),i(n,p),i(p,g),i(n,v),i(n,b),F(x,b,null),i(n,C),y=!0},p(n,e){t=n,(!y||1&e)&&H!==(H=t[21].code+"")&&h(c,H),(!y||1&e)&&M!==(M=t[21].name+"")&&h(g,M)},i(t){y||(Y(x.$$.fragment,t),y=!0)},o(t){V(x.$$.fragment,t),y=!1},d(t){t&&a(n),J(x)}}}function Lt(t){let n;return{c(){n=d("p"),n.textContent="Функций пока нет"},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function Tt(t){let n,e;return{c(){n=d("div"),e=f(t[5]),$(n,"class","alert alert-dark"),$(n,"role","alert")},m(t,o){r(t,n,o),i(n,e)},p(t,n){32&n&&h(e,t[5])},d(t){t&&a(n)}}}function zt(t){let n,e,o,s,c,u,p,h,w,b,x,C,y,H,M,_,P,L,z,q,O,A,B,N,U,D,W,G,K,Q,R,X,Z,tt,et,ot,st,it,rt,at,ut;const dt=[_t,Mt],ft=[];function mt(t,n){return t[6]?0:1}x=mt(t),C=ft[x]=dt[x](t);let pt=t[4]&&Tt(t);function gt(n){t[17](n)}O=new ct({}),G=new ct({});let $t={text:"Создать функцию"};function ht(n){t[18](n)}void 0!==t[7]&&($t.load=t[7]),X=new nt({props:$t}),k.push((()=>I(X,"load",gt))),X.$on("click",t[9]);let vt={text:"Вы уверены?",itemCode:t[3],functionOnYes:t[10]};return void 0!==t[8]&&(vt.isHidden=t[8]),st=new lt({props:vt}),k.push((()=>I(st,"isHidden",ht))),{c(){n=d("main"),e=d("div"),o=d("div"),s=d("div"),c=m(),u=d("div"),p=d("h1"),p.textContent="Функции",h=m(),w=d("h3"),w.textContent="Таблица функций",b=m(),C.c(),y=m(),H=d("h3"),H.textContent="Добавить функцию",M=m(),pt&&pt.c(),_=m(),P=d("form"),L=d("div"),z=d("label"),q=f("Код "),S(O.$$.fragment),A=m(),B=d("input"),N=m(),U=d("div"),D=d("label"),W=f("Название "),S(G.$$.fragment),K=m(),Q=d("input"),R=m(),S(X.$$.fragment),tt=m(),et=d("div"),ot=m(),S(st.$$.fragment),$(s,"class","col-2"),$(w,"class","mt-5 mb-3"),$(H,"class","mt-5 mb-3"),$(z,"class","form-label"),$(z,"for","code"),$(B,"class","form-control"),$(B,"id","code"),B.required=!0,$(B,"type","text"),$(L,"class","mb-3"),$(D,"class","form-label"),$(D,"for","name"),$(Q,"class","form-control"),$(Q,"id","name"),Q.required=!0,$(Q,"type","text"),$(U,"class","mb-3"),$(u,"class","col-8"),$(et,"class","col-2"),$(o,"class","row"),$(e,"class","container mt-5")},m(l,a){r(l,n,a),i(n,e),i(e,o),i(o,s),i(o,c),i(o,u),i(u,p),i(u,h),i(u,w),i(u,b),ft[x].m(u,null),i(u,y),i(u,H),i(u,M),pt&&pt.m(u,null),i(u,_),i(u,P),i(P,L),i(L,z),i(z,q),F(O,z,null),i(L,A),i(L,B),v(B,t[1]),i(P,N),i(P,U),i(U,D),i(D,W),F(G,D,null),i(U,K),i(U,Q),v(Q,t[2]),i(u,R),F(X,u,null),i(o,tt),i(o,et),i(o,ot),F(st,o,null),rt=!0,at||(ut=[g(B,"input",t[15]),g(Q,"input",t[16])],at=!0)},p(t,[n]){let e=x;x=mt(t),x===e?ft[x].p(t,n):(j(),V(ft[e],1,1,(()=>{ft[e]=null})),E(),C=ft[x],C?C.p(t,n):(C=ft[x]=dt[x](t),C.c()),Y(C,1),C.m(u,y)),t[4]?pt?pt.p(t,n):(pt=Tt(t),pt.c(),pt.m(u,_)):pt&&(pt.d(1),pt=null),2&n&&B.value!==t[1]&&v(B,t[1]),4&n&&Q.value!==t[2]&&v(Q,t[2]);const o={};!Z&&128&n&&(Z=!0,o.load=t[7],T((()=>Z=!1))),X.$set(o);const l={};8&n&&(l.itemCode=t[3]),!it&&256&n&&(it=!0,l.isHidden=t[8],T((()=>it=!1))),st.$set(l)},i(t){rt||(Y(C),Y(O.$$.fragment,t),Y(G.$$.fragment,t),Y(X.$$.fragment,t),Y(st.$$.fragment,t),rt=!0)},o(t){V(C),V(O.$$.fragment,t),V(G.$$.fragment,t),V(X.$$.fragment,t),V(st.$$.fragment,t),rt=!1},d(t){t&&a(n),ft[x].d(),pt&&pt.d(),J(O),J(G),J(X),J(st),at=!1,l(ut)}}}function qt(t,n,e){let{login:o}=n,{password:l}=n,s=[],c="",i="",r="",a=!1,u="",d=!1,f=!1,m=!0;async function p(){e(6,d=!1),e(0,s=await hn("/functions",o,l)),e(6,d=!0)}function g(t){e(3,r=t),e(8,m=!1)}p();return t.$$set=t=>{"login"in t&&e(12,o=t.login),"password"in t&&e(13,l=t.password)},[s,c,i,r,a,u,d,f,m,async function(){if(!(""===c?(e(5,u="Поле код не может быть пустым"),e(4,a=!0),0):""===i?(e(5,u="Поле название не может быть пустым"),e(4,a=!0),0):(e(4,a=!1),1)))return;e(7,f=!0);let t={code:c,name:i},n=await wn("/functions",o,l,t);void 0!==n.message&&(e(4,a=!0),e(5,u=n.message)),await p(),e(1,c=""),e(2,i=""),e(7,f=!1)},async function(t){await bn("/functions/"+t,o,l),e(8,m=!0),await p()},g,o,l,t=>g(t.code),function(){c=this.value,e(1,c)},function(){i=this.value,e(2,i)},function(t){f=t,e(7,f)},function(t){m=t,e(8,m)}]}class Ot extends W{constructor(t){super(),D(this,t,qt,zt,c,{login:12,password:13})}}function At(t,n,e){const o=t.slice();return o[18]=n[e],o}function Bt(t,n,e){const o=t.slice();return o[21]=n[e],o}function Nt(t,n,e){const o=t.slice();return o[24]=n[e],o}function jt(t){let e;return{c(){e=d("p"),e.textContent="Загрузка..."},m(t,n){r(t,e,n)},p:n,i:n,o:n,d(t){t&&a(e)}}}function Et(t){let n,e,o,l,s,c,f,p,g,h,v=t[3],w=[];for(let n=0;n<v.length;n+=1)w[n]=Yt(Nt(t,v,n));let b=t[2],x=[];for(let n=0;n<b.length;n+=1)x[n]=Ft(At(t,b,n));const C=t=>V(x[t],1,1,(()=>{x[t]=null}));return{c(){n=d("table"),e=d("thead"),o=d("tr"),l=d("th"),l.textContent="?:)",s=m(),c=d("th"),c.textContent="Роль",f=m();for(let t=0;t<w.length;t+=1)w[t].c();p=m(),g=d("tbody");for(let t=0;t<x.length;t+=1)x[t].c();$(l,"class","v-middle"),$(l,"scope","col"),$(c,"class","v-middle"),$(c,"scope","col"),$(n,"class","table")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(o,l),i(o,s),i(o,c),i(o,f);for(let t=0;t<w.length;t+=1)w[t].m(o,null);i(n,p),i(n,g);for(let t=0;t<x.length;t+=1)x[t].m(g,null);h=!0},p(t,n){if(8&n){let e;for(v=t[3],e=0;e<v.length;e+=1){const l=Nt(t,v,e);w[e]?w[e].p(l,n):(w[e]=Yt(l),w[e].c(),w[e].m(o,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=v.length}if(519&n){let e;for(b=t[2],e=0;e<b.length;e+=1){const o=At(t,b,e);x[e]?(x[e].p(o,n),Y(x[e],1)):(x[e]=Ft(o),x[e].c(),Y(x[e],1),x[e].m(g,null))}for(j(),e=b.length;e<x.length;e+=1)C(e);E()}},i(t){if(!h){for(let t=0;t<b.length;t+=1)Y(x[t]);h=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)V(x[t]);h=!1},d(t){t&&a(n),u(w,t),u(x,t)}}}function Yt(t){let n,e,o=t[24].name+"";return{c(){n=d("th"),e=f(o),$(n,"class","v-middle"),$(n,"scope","col"),w(n,"text-align","center")},m(t,o){r(t,n,o),i(n,e)},p(t,n){8&n&&o!==(o=t[24].name+"")&&h(e,o)},d(t){t&&a(n)}}}function Vt(t){let n;return{c(){n=d("span"),n.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>',$(n,"class","svelte-1ow4dq9")},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function It(t){let n;return{c(){n=d("span"),n.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',$(n,"class","text-success svelte-1ow4dq9")},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function St(t){let n,e,o,l;function s(t,n){return t[21].has?It:Vt}let c=s(t),u=c(t);function f(){return t[13](t[21])}return{c(){n=d("td"),e=d("span"),u.c(),w(e,"cursor","pointer"),$(e,"class","svelte-1ow4dq9"),$(n,"class","v-middle"),w(n,"text-align","center")},m(t,s){r(t,n,s),i(n,e),u.m(e,null),o||(l=g(e,"click",f),o=!0)},p(n,o){c!==(c=s(t=n))&&(u.d(1),u=c(t),u&&(u.c(),u.m(e,null)))},d(t){t&&a(n),u.d(),o=!1,l()}}}function Ft(t){let n,e,o,l,s,c,p,g,v,w=t[18].name+"";o=new ft({}),o.$on("click",(function(){return t[12](t[18])}));let b=t[18].permissions,x=[];for(let n=0;n<b.length;n+=1)x[n]=St(Bt(t,b,n));return{c(){n=d("tr"),e=d("td"),S(o.$$.fragment),l=m(),s=d("td"),c=f(w),p=m();for(let t=0;t<x.length;t+=1)x[t].c();g=m(),$(e,"class","v-middle"),$(s,"class","v-middle")},m(t,a){r(t,n,a),i(n,e),F(o,e,null),i(n,l),i(n,s),i(s,c),i(n,p);for(let t=0;t<x.length;t+=1)x[t].m(n,null);i(n,g),v=!0},p(e,o){if(t=e,(!v||4&o)&&w!==(w=t[18].name+"")&&h(c,w),516&o){let e;for(b=t[18].permissions,e=0;e<b.length;e+=1){const l=Bt(t,b,e);x[e]?x[e].p(l,o):(x[e]=St(l),x[e].c(),x[e].m(n,g))}for(;e<x.length;e+=1)x[e].d(1);x.length=b.length}},i(t){v||(Y(o.$$.fragment,t),v=!0)},o(t){V(o.$$.fragment,t),v=!1},d(t){t&&a(n),J(o),u(x,t)}}}function Jt(t){let n,e,o,l,s,c,u,f,p,g,h,v,w,b,x,C,y,H;const M=[Et,jt],_=[];function P(t,n){return t[4]&&t[5]?0:1}function L(n){t[14](n)}h=P(t),v=_[h]=M[h](t);let z={text:"Вы уверены?",itemCode:t[7],functionOnYes:t[8]};return void 0!==t[6]&&(z.isHidden=t[6]),C=new lt({props:z}),k.push((()=>I(C,"isHidden",L))),{c(){n=d("main"),e=d("div"),o=d("div"),l=d("div"),s=m(),c=d("div"),u=d("h1"),u.textContent="Разрешения",f=m(),p=d("h3"),p.textContent="Таблица разрешений",g=m(),v.c(),w=m(),b=d("div"),x=m(),S(C.$$.fragment),$(l,"class","col-1"),$(p,"class","mt-5 mb-3"),$(c,"class","col-10"),$(b,"class","col-1"),$(o,"class","row"),$(e,"class","mt-5")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(o,l),i(o,s),i(o,c),i(c,u),i(c,f),i(c,p),i(c,g),_[h].m(c,null),i(o,w),i(o,b),i(o,x),F(C,o,null),H=!0},p(t,[n]){let e=h;h=P(t),h===e?_[h].p(t,n):(j(),V(_[e],1,1,(()=>{_[e]=null})),E(),v=_[h],v?v.p(t,n):(v=_[h]=M[h](t),v.c()),Y(v,1),v.m(c,null));const o={};128&n&&(o.itemCode=t[7]),!y&&64&n&&(y=!0,o.isHidden=t[6],T((()=>y=!1))),C.$set(o)},i(t){H||(Y(v),Y(C.$$.fragment,t),H=!0)},o(t){V(v),V(C.$$.fragment,t),H=!1},d(t){t&&a(n),_[h].d(),J(C)}}}function Ut(t,n,e){let{login:o}=n,{password:l}=n,{selectedPage:s}=n,{roleCode:c}=n,i=[],r=[],a=!1,u=!1,d=!0,f="";async function m(){e(4,a=!1),e(2,i=await hn("/roles",o,l)),e(4,a=!0)}function p(t){e(7,f=t),e(6,d=!1)}m(),async function(){e(5,u=!1),e(3,r=await hn("/functions",o,l)),e(5,u=!0)}();return t.$$set=t=>{"login"in t&&e(10,o=t.login),"password"in t&&e(11,l=t.password),"selectedPage"in t&&e(0,s=t.selectedPage),"roleCode"in t&&e(1,c=t.roleCode)},[s,c,i,r,a,u,d,f,async function(t){await wn("/permissions/"+t+"/change",o,l),e(6,d=!0),await m()},p,o,l,t=>{e(0,s="role"),e(1,c=t.code)},t=>{p(t.uuid)},function(t){d=t,e(6,d)}]}class Dt extends W{constructor(t){super(),D(this,t,Ut,Jt,c,{login:10,password:11,selectedPage:0,roleCode:1})}}function Wt(t,n,e){const o=t.slice();return o[11]=n[e],o[13]=e,o}function Gt(t){let n;return{c(){n=d("span"),n.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>'},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function Kt(t){let n;return{c(){n=d("span"),n.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',$(n,"class","text-success")},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function Qt(t){let n,e,o,l,s,c,u,p,$,v,b,x,C,y,k,H=t[13]+1+"",M=t[11].function.name+"",_=t[11].function.code+"";function P(t,n){return t[11].has?Kt:Gt}let L=P(t),T=L(t);function z(){return t[8](t[11])}return{c(){n=d("tr"),e=d("td"),o=f(H),l=m(),s=d("td"),c=f(M),u=f(" ("),p=f(_),$=f(")"),v=m(),b=d("td"),x=d("span"),T.c(),C=m(),w(x,"cursor","pointer"),w(b,"text-align","center")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(n,l),i(n,s),i(s,c),i(s,u),i(s,p),i(s,$),i(n,v),i(n,b),i(b,x),T.m(x,null),i(n,C),y||(k=g(x,"click",z),y=!0)},p(n,e){t=n,4&e&&M!==(M=t[11].function.name+"")&&h(c,M),4&e&&_!==(_=t[11].function.code+"")&&h(p,_),L!==(L=P(t))&&(T.d(1),T=L(t),T&&(T.c(),T.m(x,null)))},d(t){t&&a(n),T.d(),y=!1,k()}}}function Rt(t){let n,e,o,l,s,c,p,g,v,w,b,x,C,y,H,M,_,P,L,z,q,O,A,B,N=t[2].name+"",j=t[2].code+"",E=t[2].permissions,U=[];for(let n=0;n<E.length;n+=1)U[n]=Qt(Wt(t,E,n));function D(n){t[9](n)}let W={text:"Вы уверены?",itemCode:t[1],functionOnYes:t[3]};return void 0!==t[0]&&(W.isHidden=t[0]),O=new lt({props:W}),k.push((()=>I(O,"isHidden",D))),{c(){n=d("main"),e=d("div"),o=d("div"),l=d("div"),s=m(),c=d("div"),p=d("h1"),g=f(N),v=f(" ("),w=f(j),b=f(")"),x=m(),C=d("h3"),C.textContent="Разрешения",y=m(),H=d("table"),M=d("thead"),M.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Функция</th> \n                        <th scope="col" style="text-align: center">Права</th></tr>',_=m(),P=d("tbody");for(let t=0;t<U.length;t+=1)U[t].c();L=m(),z=d("div"),q=m(),S(O.$$.fragment),$(l,"class","col-2"),$(C,"class","mt-5 mb-3"),$(H,"class","table"),$(c,"class","col-8"),$(z,"class","col-2"),$(o,"class","row"),$(e,"class","container mt-5")},m(t,a){r(t,n,a),i(n,e),i(e,o),i(o,l),i(o,s),i(o,c),i(c,p),i(p,g),i(p,v),i(p,w),i(p,b),i(c,x),i(c,C),i(c,y),i(c,H),i(H,M),i(H,_),i(H,P);for(let t=0;t<U.length;t+=1)U[t].m(P,null);i(o,L),i(o,z),i(o,q),F(O,o,null),B=!0},p(t,[n]){if((!B||4&n)&&N!==(N=t[2].name+"")&&h(g,N),(!B||4&n)&&j!==(j=t[2].code+"")&&h(w,j),20&n){let e;for(E=t[2].permissions,e=0;e<E.length;e+=1){const o=Wt(t,E,e);U[e]?U[e].p(o,n):(U[e]=Qt(o),U[e].c(),U[e].m(P,null))}for(;e<U.length;e+=1)U[e].d(1);U.length=E.length}const e={};2&n&&(e.itemCode=t[1]),!A&&1&n&&(A=!0,e.isHidden=t[0],T((()=>A=!1))),O.$set(e)},i(t){B||(Y(O.$$.fragment,t),B=!0)},o(t){V(O.$$.fragment,t),B=!1},d(t){t&&a(n),u(U,t),J(O)}}}function Xt(t,n,e){let{login:o}=n,{password:l}=n,{roleCode:s}=n,c=!0,i="",r={permissions:[]};async function a(){e(2,r=await hn("/roles/"+s,o,l))}function u(t){e(1,i=t),e(0,c=!1)}a();return t.$$set=t=>{"login"in t&&e(5,o=t.login),"password"in t&&e(6,l=t.password),"roleCode"in t&&e(7,s=t.roleCode)},[c,i,r,async function(t){await wn("/permissions/"+t+"/change",o,l),e(0,c=!0),await a()},u,o,l,s,t=>{u(t.uuid)},function(t){c=t,e(0,c)}]}class Zt extends W{constructor(t){super(),D(this,t,Xt,Rt,c,{login:5,password:6,roleCode:7})}}function tn(t){let n;return{c(){n=d("p"),n.textContent="Неверны логин или пароль"},m(t,e){r(t,n,e)},d(t){t&&a(n)}}}function nn(t){let n,e,o,s,c,u,p,h,w,b,x,C,y,H,M,_,P,L,z,q,O,A,B,N,j,E,U,D,W,G,K,Q=t[3]&&tn();function R(n){t[8](n)}H=new ct({}),O=new ct({});let X={text:"Вход"};return void 0!==t[2]&&(X.load=t[2]),j=new nt({props:X}),k.push((()=>I(j,"load",R))),j.$on("click",t[4]),{c(){n=d("main"),e=d("div"),o=d("div"),s=d("div"),c=m(),u=d("div"),p=d("h1"),p.textContent="Вход",h=m(),Q&&Q.c(),w=m(),b=d("form"),x=d("div"),C=d("label"),y=f("Логин "),S(H.$$.fragment),M=m(),_=d("input"),P=m(),L=d("div"),z=d("label"),q=f("Пароль "),S(O.$$.fragment),A=m(),B=d("input"),N=m(),S(j.$$.fragment),U=m(),D=d("div"),$(s,"class","col-4"),$(C,"class","form-label"),$(C,"for","login"),$(_,"class","form-control"),$(_,"id","login"),_.required=!0,$(_,"type","text"),$(x,"class","mb-3"),$(z,"class","form-label"),$(z,"for","password"),$(B,"class","form-control"),$(B,"id","password"),B.required=!0,$(B,"type","password"),$(L,"class","mb-3"),$(u,"class","col-4"),$(D,"class","col-4"),$(o,"class","row"),$(e,"class","container mt-5")},m(l,a){r(l,n,a),i(n,e),i(e,o),i(o,s),i(o,c),i(o,u),i(u,p),i(u,h),Q&&Q.m(u,null),i(u,w),i(u,b),i(b,x),i(x,C),i(C,y),F(H,C,null),i(x,M),i(x,_),v(_,t[0]),i(b,P),i(b,L),i(L,z),i(z,q),F(O,z,null),i(L,A),i(L,B),v(B,t[1]),i(u,N),F(j,u,null),i(o,U),i(o,D),W=!0,G||(K=[g(_,"input",t[6]),g(B,"input",t[7])],G=!0)},p(t,[n]){t[3]?Q||(Q=tn(),Q.c(),Q.m(u,w)):Q&&(Q.d(1),Q=null),1&n&&_.value!==t[0]&&v(_,t[0]),2&n&&B.value!==t[1]&&v(B,t[1]);const e={};!E&&4&n&&(E=!0,e.load=t[2],T((()=>E=!1))),j.$set(e)},i(t){W||(Y(H.$$.fragment,t),Y(O.$$.fragment,t),Y(j.$$.fragment,t),W=!0)},o(t){V(H.$$.fragment,t),V(O.$$.fragment,t),V(j.$$.fragment,t),W=!1},d(t){t&&a(n),Q&&Q.d(),J(H),J(O),J(j),G=!1,l(K)}}}function en(t,n,e){let{loginIn:o}=n,{login:l}=n,{password:s}=n,c=!1,i=!1;return t.$$set=t=>{"loginIn"in t&&e(5,o=t.loginIn),"login"in t&&e(0,l=t.login),"password"in t&&e(1,s=t.password)},[l,s,c,i,async function(){e(2,c=!0);try{e(3,i=!1),"ok"===(await wn("/login",l,s)).data&&e(5,o=!0)}catch(t){e(3,i=!0)}e(2,c=!1)},o,function(){l=this.value,e(0,l)},function(){s=this.value,e(1,s)},function(t){c=t,e(2,c)}]}class on extends W{constructor(t){super(),D(this,t,en,nn,c,{loginIn:5,login:0,password:1})}}function ln(t){let n,e,o,l,s;function c(n){t[10](n)}function i(n){t[11](n)}function r(n){t[12](n)}let a={};return void 0!==t[2]&&(a.loginIn=t[2]),void 0!==t[3]&&(a.login=t[3]),void 0!==t[4]&&(a.password=t[4]),n=new on({props:a}),k.push((()=>I(n,"loginIn",c))),k.push((()=>I(n,"login",i))),k.push((()=>I(n,"password",r))),{c(){S(n.$$.fragment)},m(t,e){F(n,t,e),s=!0},p(t,s){const c={};!e&&4&s&&(e=!0,c.loginIn=t[2],T((()=>e=!1))),!o&&8&s&&(o=!0,c.login=t[3],T((()=>o=!1))),!l&&16&s&&(l=!0,c.password=t[4],T((()=>l=!1))),n.$set(c)},i(t){s||(Y(n.$$.fragment,t),s=!0)},o(t){V(n.$$.fragment,t),s=!1},d(t){J(n,t)}}}function sn(t){let n,e,o,l,s,c,i,u,d;function f(n){t[5](n)}let g={};void 0!==t[1]&&(g.selectedPage=t[1]),n=new Q({props:g}),k.push((()=>I(n,"selectedPage",f)));let $="home"===t[1]&&cn(t),h="roles"===t[1]&&rn(t),v="functions"===t[1]&&an(t),w="permissions"===t[1]&&un(t),b="role"===t[1]&&dn(t);return{c(){S(n.$$.fragment),o=m(),$&&$.c(),l=m(),h&&h.c(),s=m(),v&&v.c(),c=m(),w&&w.c(),i=m(),b&&b.c(),u=p()},m(t,e){F(n,t,e),r(t,o,e),$&&$.m(t,e),r(t,l,e),h&&h.m(t,e),r(t,s,e),v&&v.m(t,e),r(t,c,e),w&&w.m(t,e),r(t,i,e),b&&b.m(t,e),r(t,u,e),d=!0},p(t,o){const r={};!e&&2&o&&(e=!0,r.selectedPage=t[1],T((()=>e=!1))),n.$set(r),"home"===t[1]?$?($.p(t,o),2&o&&Y($,1)):($=cn(t),$.c(),Y($,1),$.m(l.parentNode,l)):$&&(j(),V($,1,1,(()=>{$=null})),E()),"roles"===t[1]?h?(h.p(t,o),2&o&&Y(h,1)):(h=rn(t),h.c(),Y(h,1),h.m(s.parentNode,s)):h&&(j(),V(h,1,1,(()=>{h=null})),E()),"functions"===t[1]?v?(v.p(t,o),2&o&&Y(v,1)):(v=an(t),v.c(),Y(v,1),v.m(c.parentNode,c)):v&&(j(),V(v,1,1,(()=>{v=null})),E()),"permissions"===t[1]?w?(w.p(t,o),2&o&&Y(w,1)):(w=un(t),w.c(),Y(w,1),w.m(i.parentNode,i)):w&&(j(),V(w,1,1,(()=>{w=null})),E()),"role"===t[1]?b?(b.p(t,o),2&o&&Y(b,1)):(b=dn(t),b.c(),Y(b,1),b.m(u.parentNode,u)):b&&(j(),V(b,1,1,(()=>{b=null})),E())},i(t){d||(Y(n.$$.fragment,t),Y($),Y(h),Y(v),Y(w),Y(b),d=!0)},o(t){V(n.$$.fragment,t),V($),V(h),V(v),V(w),V(b),d=!1},d(t){J(n,t),t&&a(o),$&&$.d(t),t&&a(l),h&&h.d(t),t&&a(s),v&&v.d(t),t&&a(c),w&&w.d(t),t&&a(i),b&&b.d(t),t&&a(u)}}}function cn(t){let n,e;return n=new at({props:{login:t[3],password:t[4]}}),{c(){S(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.login=t[3]),16&e&&(o.password=t[4]),n.$set(o)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function rn(t){let n,e,o,l;function s(n){t[6](n)}function c(n){t[7](n)}let i={login:t[3],password:t[4]};return void 0!==t[1]&&(i.selectedPage=t[1]),void 0!==t[0]&&(i.roleCode=t[0]),n=new kt({props:i}),k.push((()=>I(n,"selectedPage",s))),k.push((()=>I(n,"roleCode",c))),{c(){S(n.$$.fragment)},m(t,e){F(n,t,e),l=!0},p(t,l){const s={};8&l&&(s.login=t[3]),16&l&&(s.password=t[4]),!e&&2&l&&(e=!0,s.selectedPage=t[1],T((()=>e=!1))),!o&&1&l&&(o=!0,s.roleCode=t[0],T((()=>o=!1))),n.$set(s)},i(t){l||(Y(n.$$.fragment,t),l=!0)},o(t){V(n.$$.fragment,t),l=!1},d(t){J(n,t)}}}function an(t){let n,e;return n=new Ot({props:{login:t[3],password:t[4]}}),{c(){S(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.login=t[3]),16&e&&(o.password=t[4]),n.$set(o)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function un(t){let n,e,o,l;function s(n){t[8](n)}function c(n){t[9](n)}let i={login:t[3],password:t[4]};return void 0!==t[1]&&(i.selectedPage=t[1]),void 0!==t[0]&&(i.roleCode=t[0]),n=new Dt({props:i}),k.push((()=>I(n,"selectedPage",s))),k.push((()=>I(n,"roleCode",c))),{c(){S(n.$$.fragment)},m(t,e){F(n,t,e),l=!0},p(t,l){const s={};8&l&&(s.login=t[3]),16&l&&(s.password=t[4]),!e&&2&l&&(e=!0,s.selectedPage=t[1],T((()=>e=!1))),!o&&1&l&&(o=!0,s.roleCode=t[0],T((()=>o=!1))),n.$set(s)},i(t){l||(Y(n.$$.fragment,t),l=!0)},o(t){V(n.$$.fragment,t),l=!1},d(t){J(n,t)}}}function dn(t){let n,e;return n=new Zt({props:{login:t[3],password:t[4],roleCode:t[0]}}),{c(){S(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.login=t[3]),16&e&&(o.password=t[4]),1&e&&(o.roleCode=t[0]),n.$set(o)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function fn(t){let n,e,o,l;const s=[sn,ln],c=[];function i(t,n){return t[2]?0:1}return e=i(t),o=c[e]=s[e](t),{c(){n=d("main"),o.c()},m(t,o){r(t,n,o),c[e].m(n,null),l=!0},p(t,[l]){let r=e;e=i(t),e===r?c[e].p(t,l):(j(),V(c[r],1,1,(()=>{c[r]=null})),E(),o=c[e],o?o.p(t,l):(o=c[e]=s[e](t),o.c()),Y(o,1),o.m(n,null))},i(t){l||(Y(o),l=!0)},o(t){V(o),l=!1},d(t){t&&a(n),c[e].d()}}}function mn(t,n,e){let o="",l="home",s=!1,c="",i="";return[o,l,s,c,i,function(t){l=t,e(1,l)},function(t){l=t,e(1,l)},function(t){o=t,e(0,o)},function(t){l=t,e(1,l)},function(t){o=t,e(0,o)},function(t){s=t,e(2,s)},function(t){c=t,e(3,c)},function(t){i=t,e(4,i)}]}const pn=new class extends W{constructor(t){super(),D(this,t,mn,fn,c,{})}}({target:document.body});function gn(t,n){return t.startsWith(n)?t.slice(n.length):t}function $n(){return window.location.href}async function hn(t,n,e){let o=$n(),l=await fetch(o+gn(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)}});return await l.json()}async function vn(t,n,e){let o=await fetch(t,{headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)}});return await o.json()}async function wn(t,n,e,o){let l=$n(),s=JSON.stringify(o);return(await fetch(l+gn(t,"/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)},body:s})).json()}async function bn(t,n,e){let o=$n();return(await fetch(o+gn(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)}})).json()}return t.default=pn,t.deleteFetch=bn,t.getFetch=hn,t.getFetchUrl=vn,t.postFetch=wn,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundle.js.map
