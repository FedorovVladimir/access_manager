var app=function(t){"use strict";function n(){}function e(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(e)}function l(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function r(t){t.parentNode.removeChild(t)}function d(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function v(t,n){t.value=null==n?"":n}function w(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let b;function $(t){b=t}const x=[],y=[],C=[],M=[],k=Promise.resolve();let L=!1;function z(t){C.push(t)}function H(t){M.push(t)}let T=!1;const P=new Set;function _(){if(!T){T=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];$(n),q(n.$$)}for($(null),x.length=0;y.length;)y.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];P.has(n)||(P.add(n),n())}C.length=0}while(x.length);for(;M.length;)M.pop()();L=!1,T=!1,P.clear()}}function q(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const A=new Set;let V;function B(){V={r:0,c:[],p:V}}function E(){V.r||s(V.c),V=V.p}function j(t,n){t&&t.i&&(A.delete(t),t.i(n))}function N(t,n,e,o){if(t&&t.o){if(A.has(t))return;A.add(t),V.c.push((()=>{A.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function I(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function O(t){t&&t.c()}function S(t,n,o,c){const{fragment:a,on_mount:i,on_destroy:r,after_update:d}=t.$$;a&&a.m(n,o),c||z((()=>{const n=i.map(e).filter(l);r?r.push(...n):s(n),t.$$.on_mount=[]})),d.forEach(z)}function F(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function D(t,n){-1===t.$$.dirty[0]&&(x.push(t),L||(L=!0,k.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(t,e,l,c,a,i,d=[-1]){const u=b;$(t);const f=t.$$={fragment:null,ctx:null,props:i,update:n,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:d,skip_bound:!1};let p=!1;if(f.ctx=l?l(t,e.props||{},((n,e,...o)=>{const s=o.length?o[0]:e;return f.ctx&&a(f.ctx[n],f.ctx[n]=s)&&(!f.skip_bound&&f.bound[n]&&f.bound[n](s),p&&D(t,n)),e})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!c&&c(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(r)}else f.fragment&&f.fragment.c();e.intro&&j(t.$$.fragment),S(t,e.target,e.anchor,e.customElement),_()}$(u)}class W{$destroy(){F(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t){let e,o,l,c,d,f,g,v,w,b,$,x,y,C,M,k,L,z,H,T,P,_;return{c(){e=u("main"),o=u("nav"),l=u("div"),c=u("a"),c.textContent="access_manager",d=p(),f=u("div"),g=u("ul"),v=u("li"),w=u("a"),w.textContent="Главная",b=p(),$=u("li"),x=u("a"),x.textContent="Роли",y=p(),C=u("li"),M=u("a"),M.textContent="Функции",k=p(),L=u("li"),z=u("a"),z.textContent="Разрешения",H=p(),T=u("li"),T.innerHTML='<a class="nav-link svelte-1iqrkeo" href="/redoc/index.html" target="_blank">Документация</a>',m(c,"class","navbar-brand svelte-1iqrkeo"),m(w,"class","nav-link svelte-1iqrkeo"),m(v,"class","nav-item"),m(x,"class","nav-link svelte-1iqrkeo"),m($,"class","nav-item"),m(M,"class","nav-link svelte-1iqrkeo"),m(C,"class","nav-item"),m(z,"class","nav-link svelte-1iqrkeo"),m(L,"class","nav-item"),m(T,"class","nav-item"),m(g,"class","navbar-nav mr-auto mb-2 mb-lg-0"),m(f,"class","navbar-collapse"),m(f,"id","navbarSupportedContent"),m(l,"class","container-fluid"),m(o,"class","navbar navbar-expand-lg navbar-dark bg-dark")},m(n,s){i(n,e,s),a(e,o),a(o,l),a(l,c),a(l,d),a(l,f),a(f,g),a(g,v),a(v,w),a(g,b),a(g,$),a($,x),a(g,y),a(g,C),a(C,M),a(g,k),a(g,L),a(L,z),a(g,H),a(g,T),P||(_=[h(c,"click",t[1]),h(w,"click",t[2]),h(x,"click",t[3]),h(M,"click",t[4]),h(z,"click",t[5])],P=!0)},p:n,i:n,o:n,d(t){t&&r(e),P=!1,s(_)}}}function K(t,n,e){let{selectedPage:o}=n;return t.$$set=t=>{"selectedPage"in t&&e(0,o=t.selectedPage)},[o,()=>e(0,o="home"),()=>e(0,o="home"),()=>e(0,o="roles"),()=>e(0,o="functions"),()=>e(0,o="permissions")]}class Q extends W{constructor(t){super(),J(this,t,K,G,c,{selectedPage:0})}}function R(t){let e;return{c(){e=u("main"),e.innerHTML='<div class="container mt-5"><div class="row"><div class="col-2"></div> \n            <div class="col-8"><h1>Главная</h1> \n\n                <h3 class="mt-5 mb-3">Описание</h3> \n\n                <p><b>access_manager</b> - вспомогательное ПО для контроля <i>разрешений</i> пользователей с\n                    различными <i>ролями</i>\n                    на доступ к той или иной функциональности основного ПО.</p> \n\n                <h3 class="mt-5 mb-3">Словарь</h3> \n\n                <p><b>Роль (role)</b> - группа людей имеющих доступ к одной и той же функциональность основного ПО.</p> \n\n                <p><b>Функция (function)</b> - часть функциональности основного ПО доступ к которой может быть\n                    открыт/закрыт\n                    для любой из <i>ролей</i>.</p> \n\n                <p><b>Разрешение (permission)</b> - возможность/невозможность пользования <i>функцией</i> для <i>роли</i>.</p></div> \n            <div class="col-2"></div></div></div>'},m(t,n){i(t,e,n)},p:n,i:n,o:n,d(t){t&&r(e)}}}class U extends W{constructor(t){super(),J(this,t,null,R,c,{})}}function X(t,n,e){const o=t.slice();return o[14]=n[e],o[16]=e,o}function Y(t){let n,e,o,l,c,d,v,b,$,x,y,C,M,k,L,z,H,T,P=t[16]+1+"",_=t[14].code+"",q=t[14].name+"";function A(){return t[9](t[14])}function V(){return t[10](t[14])}return{c(){n=u("tr"),e=u("th"),o=f(P),l=p(),c=u("td"),d=f(_),v=p(),b=u("td"),$=f(q),x=p(),y=u("td"),C=u("span"),C.innerHTML='<svg class="bi bi-info-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>',M=p(),k=u("td"),L=u("span"),L.innerHTML='<svg class="bi bi-trash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" fill-rule="evenodd"></path></svg>',z=p(),m(e,"scope","row"),m(C,"class","text-info svelte-1ow4dq9"),w(y,"text-align","center"),m(L,"class","text-danger svelte-1ow4dq9"),w(k,"text-align","center")},m(t,s){i(t,n,s),a(n,e),a(e,o),a(n,l),a(n,c),a(c,d),a(n,v),a(n,b),a(b,$),a(n,x),a(n,y),a(y,C),a(n,M),a(n,k),a(k,L),a(n,z),H||(T=[h(C,"click",A),h(L,"click",V)],H=!0)},p(n,e){t=n,4&e&&_!==(_=t[14].code+"")&&g(d,_),4&e&&q!==(q=t[14].name+"")&&g($,q)},d(t){t&&r(n),H=!1,s(T)}}}function Z(t){let e,o,l,c,f,g,w,b,$,x,y,C,M,k,L,z,H,T,P,_,q,A,V,B,E,j,N,I,O,S,F,D,J,W=t[2],G=[];for(let n=0;n<W.length;n+=1)G[n]=Y(X(t,W,n));return{c(){e=u("main"),o=u("div"),l=u("div"),c=u("div"),f=p(),g=u("div"),w=u("h1"),w.textContent="Роли",b=p(),$=u("h3"),$.textContent="Таблица ролей",x=p(),y=u("table"),C=u("thead"),C.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Код</th> \n                        <th scope="col">Название</th> \n                        <th scope="col"></th> \n                        <th scope="col"></th></tr>',M=p(),k=u("tbody");for(let t=0;t<G.length;t+=1)G[t].c();L=p(),z=u("h3"),z.textContent="Добавить роль",H=p(),T=u("form"),P=u("div"),_=u("label"),_.innerHTML='Код <span class="text-danger svelte-1ow4dq9">*</span>',q=p(),A=u("input"),V=p(),B=u("div"),E=u("label"),E.innerHTML='Название <span class="text-danger svelte-1ow4dq9">*</span>',j=p(),N=u("input"),I=p(),O=u("button"),O.textContent="Создать роль",S=p(),F=u("div"),m(c,"class","col-2"),m($,"class","mt-5 mb-3"),m(y,"class","table"),m(z,"class","mt-5 mb-3"),m(_,"class","form-label"),m(_,"for","code"),m(A,"class","form-control"),m(A,"id","code"),A.required=!0,m(A,"type","text"),m(P,"class","mb-3"),m(E,"class","form-label"),m(E,"for","name"),m(N,"class","form-control"),m(N,"id","name"),N.required=!0,m(N,"type","text"),m(B,"class","mb-3"),m(O,"class","btn btn-secondary mb-5"),m(O,"id","send"),m(g,"class","col-8"),m(F,"class","col-2"),m(l,"class","row"),m(o,"class","container mt-5")},m(n,s){i(n,e,s),a(e,o),a(o,l),a(l,c),a(l,f),a(l,g),a(g,w),a(g,b),a(g,$),a(g,x),a(g,y),a(y,C),a(y,M),a(y,k);for(let t=0;t<G.length;t+=1)G[t].m(k,null);a(g,L),a(g,z),a(g,H),a(g,T),a(T,P),a(P,_),a(P,q),a(P,A),v(A,t[3]),a(T,V),a(T,B),a(B,E),a(B,j),a(B,N),v(N,t[4]),a(g,I),a(g,O),a(l,S),a(l,F),D||(J=[h(A,"input",t[11]),h(N,"input",t[12]),h(O,"click",t[5])],D=!0)},p(t,[n]){if(71&n){let e;for(W=t[2],e=0;e<W.length;e+=1){const o=X(t,W,e);G[e]?G[e].p(o,n):(G[e]=Y(o),G[e].c(),G[e].m(k,null))}for(;e<G.length;e+=1)G[e].d(1);G.length=W.length}8&n&&A.value!==t[3]&&v(A,t[3]),16&n&&N.value!==t[4]&&v(N,t[4])},i:n,o:n,d(t){t&&r(e),d(G,t),D=!1,s(J)}}}function tt(t,n,e){let{login:o}=n,{password:s}=n,{selectedPage:l}=n,{roleCode:c}=n,a=[],i="",r="";async function d(){e(2,a=await Ot("/roles",o,s)),console.log(a)}async function u(t){await Ft("/roles/"+t,o,s),await d()}d();return t.$$set=t=>{"login"in t&&e(7,o=t.login),"password"in t&&e(8,s=t.password),"selectedPage"in t&&e(0,l=t.selectedPage),"roleCode"in t&&e(1,c=t.roleCode)},[l,c,a,i,r,async function(){let t={code:i,name:r};await St("/roles",o,s,t),await d(),e(3,i=""),e(4,r="")},u,o,s,t=>{e(0,l="role"),e(1,c=t.code)},t=>u(t.code),function(){i=this.value,e(3,i)},function(){r=this.value,e(4,r)}]}class nt extends W{constructor(t){super(),J(this,t,tt,Z,c,{login:7,password:8,selectedPage:0,roleCode:1})}}function et(t,n,e){const o=t.slice();return o[11]=n[e],o[13]=e,o}function ot(t){let n,e,o,s,l,c,d,v,b,$,x,y,C,M,k,L=t[13]+1+"",z=t[11].code+"",H=t[11].name+"";function T(){return t[7](t[11])}return{c(){n=u("tr"),e=u("th"),o=f(L),s=p(),l=u("td"),c=f(z),d=p(),v=u("td"),b=f(H),$=p(),x=u("td"),y=u("span"),y.innerHTML='<svg class="bi bi-trash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" fill-rule="evenodd"></path></svg>',C=p(),m(e,"scope","row"),m(y,"class","text-danger"),w(y,"cursor","pointer"),w(x,"text-align","center")},m(t,r){i(t,n,r),a(n,e),a(e,o),a(n,s),a(n,l),a(l,c),a(n,d),a(n,v),a(v,b),a(n,$),a(n,x),a(x,y),a(n,C),M||(k=h(y,"click",T),M=!0)},p(n,e){t=n,1&e&&z!==(z=t[11].code+"")&&g(c,z),1&e&&H!==(H=t[11].name+"")&&g(b,H)},d(t){t&&r(n),M=!1,k()}}}function st(t){let e,o,l,c,f,g,w,b,$,x,y,C,M,k,L,z,H,T,P,_,q,A,V,B,E,j,N,I,O,S,F,D,J,W=t[0],G=[];for(let n=0;n<W.length;n+=1)G[n]=ot(et(t,W,n));return{c(){e=u("main"),o=u("div"),l=u("div"),c=u("div"),f=p(),g=u("div"),w=u("h1"),w.textContent="Функции",b=p(),$=u("h3"),$.textContent="Таблица функций",x=p(),y=u("table"),C=u("thead"),C.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Код</th> \n                        <th scope="col">Название</th> \n                        <th scope="col"></th></tr>',M=p(),k=u("tbody");for(let t=0;t<G.length;t+=1)G[t].c();L=p(),z=u("h3"),z.textContent="Добавить функцию",H=p(),T=u("form"),P=u("div"),_=u("label"),_.innerHTML='Код <span class="text-danger">*</span>',q=p(),A=u("input"),V=p(),B=u("div"),E=u("label"),E.innerHTML='Название <span class="text-danger">*</span>',j=p(),N=u("input"),I=p(),O=u("button"),O.textContent="Создать функцию",S=p(),F=u("div"),m(c,"class","col-2"),m($,"class","mt-5 mb-3"),m(y,"class","table"),m(z,"class","mt-5 mb-3"),m(_,"class","form-label"),m(_,"for","code"),m(A,"class","form-control"),m(A,"id","code"),A.required=!0,m(A,"type","text"),m(P,"class","mb-3"),m(E,"class","form-label"),m(E,"for","name"),m(N,"class","form-control"),m(N,"id","name"),N.required=!0,m(N,"type","text"),m(B,"class","mb-3"),m(O,"class","btn btn-secondary mb-5"),m(O,"id","send"),m(g,"class","col-8"),m(F,"class","col-2"),m(l,"class","row"),m(o,"class","container mt-5")},m(n,s){i(n,e,s),a(e,o),a(o,l),a(l,c),a(l,f),a(l,g),a(g,w),a(g,b),a(g,$),a(g,x),a(g,y),a(y,C),a(y,M),a(y,k);for(let t=0;t<G.length;t+=1)G[t].m(k,null);a(g,L),a(g,z),a(g,H),a(g,T),a(T,P),a(P,_),a(P,q),a(P,A),v(A,t[1]),a(T,V),a(T,B),a(B,E),a(B,j),a(B,N),v(N,t[2]),a(g,I),a(g,O),a(l,S),a(l,F),D||(J=[h(A,"input",t[8]),h(N,"input",t[9]),h(O,"click",t[3])],D=!0)},p(t,[n]){if(17&n){let e;for(W=t[0],e=0;e<W.length;e+=1){const o=et(t,W,e);G[e]?G[e].p(o,n):(G[e]=ot(o),G[e].c(),G[e].m(k,null))}for(;e<G.length;e+=1)G[e].d(1);G.length=W.length}2&n&&A.value!==t[1]&&v(A,t[1]),4&n&&N.value!==t[2]&&v(N,t[2])},i:n,o:n,d(t){t&&r(e),d(G,t),D=!1,s(J)}}}function lt(t,n,e){let{login:o}=n,{password:s}=n,l=[],c="",a="";async function i(){e(0,l=await Ot("/functions",o,s)),console.log(l)}async function r(t){await Ft("/functions/"+t,o,s),await i()}i();return t.$$set=t=>{"login"in t&&e(5,o=t.login),"password"in t&&e(6,s=t.password)},[l,c,a,async function(){let t={code:c,name:a};await St("/functions",o,s,t),await i(),e(1,c=""),e(2,a="")},r,o,s,t=>r(t.code),function(){c=this.value,e(1,c)},function(){a=this.value,e(2,a)}]}class ct extends W{constructor(t){super(),J(this,t,lt,st,c,{login:5,password:6})}}function at(t,n,e){const o=t.slice();return o[12]=n[e],o}function it(t,n,e){const o=t.slice();return o[15]=n[e],o}function rt(t,n,e){const o=t.slice();return o[18]=n[e],o}function dt(t){let n,e,o=t[18].name+"";return{c(){n=u("th"),e=f(o),m(n,"class","v-middle"),m(n,"scope","col"),w(n,"text-align","center")},m(t,o){i(t,n,o),a(n,e)},p(t,n){8&n&&o!==(o=t[18].name+"")&&g(e,o)},d(t){t&&r(n)}}}function ut(t){let n;return{c(){n=u("span"),n.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>',m(n,"class","svelte-1ow4dq9")},m(t,e){i(t,n,e)},d(t){t&&r(n)}}}function ft(t){let n;return{c(){n=u("span"),n.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',m(n,"class","text-success svelte-1ow4dq9")},m(t,e){i(t,n,e)},d(t){t&&r(n)}}}function pt(t){let n,e,o,s;function l(t,n){return t[15].has?ft:ut}let c=l(t),d=c(t);function f(){return t[8](t[15])}return{c(){n=u("td"),e=u("span"),d.c(),w(e,"cursor","pointer"),m(e,"class","svelte-1ow4dq9"),m(n,"class","v-middle"),w(n,"text-align","center")},m(t,l){i(t,n,l),a(n,e),d.m(e,null),o||(s=h(e,"click",f),o=!0)},p(n,o){c!==(c=l(t=n))&&(d.d(1),d=c(t),d&&(d.c(),d.m(e,null)))},d(t){t&&r(n),d.d(),o=!1,s()}}}function ht(t){let n,e,o,s,l,c,v,w,b,$,x=t[12].name+"";function y(){return t[7](t[12])}let C=t[12].permissions,M=[];for(let n=0;n<C.length;n+=1)M[n]=pt(it(t,C,n));return{c(){n=u("tr"),e=u("td"),o=u("span"),o.innerHTML='<svg class="bi bi-info-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>',s=p(),l=u("td"),c=f(x),v=p();for(let t=0;t<M.length;t+=1)M[t].c();w=p(),m(o,"class","text-info svelte-1ow4dq9"),m(e,"class","v-middle"),m(l,"class","v-middle")},m(t,r){i(t,n,r),a(n,e),a(e,o),a(n,s),a(n,l),a(l,c),a(n,v);for(let t=0;t<M.length;t+=1)M[t].m(n,null);a(n,w),b||($=h(o,"click",y),b=!0)},p(e,o){if(t=e,4&o&&x!==(x=t[12].name+"")&&g(c,x),20&o){let e;for(C=t[12].permissions,e=0;e<C.length;e+=1){const s=it(t,C,e);M[e]?M[e].p(s,o):(M[e]=pt(s),M[e].c(),M[e].m(n,w))}for(;e<M.length;e+=1)M[e].d(1);M.length=C.length}},d(t){t&&r(n),d(M,t),b=!1,$()}}}function mt(t){let e,o,s,l,c,f,h,g,v,w,b,$,x,y,C,M,k,L,z,H,T,P=t[3],_=[];for(let n=0;n<P.length;n+=1)_[n]=dt(rt(t,P,n));let q=t[2],A=[];for(let n=0;n<q.length;n+=1)A[n]=ht(at(t,q,n));return{c(){e=u("main"),o=u("div"),s=u("div"),l=u("div"),c=p(),f=u("div"),h=u("h1"),h.textContent="Разрешения",g=p(),v=u("h3"),v.textContent="Таблица разрешений",w=p(),b=u("table"),$=u("thead"),x=u("tr"),y=u("th"),y.textContent="?:)",C=p(),M=u("th"),M.textContent="Роль",k=p();for(let t=0;t<_.length;t+=1)_[t].c();L=p(),z=u("tbody");for(let t=0;t<A.length;t+=1)A[t].c();H=p(),T=u("div"),m(l,"class","col-1"),m(v,"class","mt-5 mb-3"),m(y,"class","v-middle"),m(y,"scope","col"),m(M,"class","v-middle"),m(M,"scope","col"),m(b,"class","table"),m(f,"class","col-10"),m(T,"class","col-1"),m(s,"class","row"),m(o,"class","mt-5")},m(t,n){i(t,e,n),a(e,o),a(o,s),a(s,l),a(s,c),a(s,f),a(f,h),a(f,g),a(f,v),a(f,w),a(f,b),a(b,$),a($,x),a(x,y),a(x,C),a(x,M),a(x,k);for(let t=0;t<_.length;t+=1)_[t].m(x,null);a(b,L),a(b,z);for(let t=0;t<A.length;t+=1)A[t].m(z,null);a(s,H),a(s,T)},p(t,[n]){if(8&n){let e;for(P=t[3],e=0;e<P.length;e+=1){const o=rt(t,P,e);_[e]?_[e].p(o,n):(_[e]=dt(o),_[e].c(),_[e].m(x,null))}for(;e<_.length;e+=1)_[e].d(1);_.length=P.length}if(23&n){let e;for(q=t[2],e=0;e<q.length;e+=1){const o=at(t,q,e);A[e]?A[e].p(o,n):(A[e]=ht(o),A[e].c(),A[e].m(z,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=q.length}},i:n,o:n,d(t){t&&r(e),d(_,t),d(A,t)}}}function gt(t,n,e){let{login:o}=n,{password:s}=n,{selectedPage:l}=n,{roleCode:c}=n,a=[],i=[];async function r(){e(2,a=await Ot("/roles",o,s)),console.log(a)}async function d(t){await St("/permissions/"+t+"/change",o,s),await r()}r(),async function(){e(3,i=await Ot("/functions",o,s)),console.log(i)}();return t.$$set=t=>{"login"in t&&e(5,o=t.login),"password"in t&&e(6,s=t.password),"selectedPage"in t&&e(0,l=t.selectedPage),"roleCode"in t&&e(1,c=t.roleCode)},[l,c,a,i,d,o,s,t=>{e(0,l="role"),e(1,c=t.code)},t=>{d(t.uuid)}]}class vt extends W{constructor(t){super(),J(this,t,gt,mt,c,{login:5,password:6,selectedPage:0,roleCode:1})}}function wt(t,n,e){const o=t.slice();return o[7]=n[e],o[9]=e,o}function bt(t){let n;return{c(){n=u("span"),n.innerHTML='<svg class="bi bi-dash" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path></svg>'},m(t,e){i(t,n,e)},d(t){t&&r(n)}}}function $t(t){let n;return{c(){n=u("span"),n.innerHTML='<svg class="bi bi-check2-circle" fill="currentColor" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"></path><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"></path></svg>',m(n,"class","text-success")},m(t,e){i(t,n,e)},d(t){t&&r(n)}}}function xt(t){let n,e,o,s,l,c,d,m,v,b,$,x,y,C,M,k=t[9]+1+"",L=t[7].function.name+"",z=t[7].function.code+"";function H(t,n){return t[7].has?$t:bt}let T=H(t),P=T(t);function _(){return t[5](t[7])}return{c(){n=u("tr"),e=u("td"),o=f(k),s=p(),l=u("td"),c=f(L),d=f(" ("),m=f(z),v=f(")"),b=p(),$=u("td"),x=u("span"),P.c(),y=p(),w(x,"cursor","pointer"),w($,"text-align","center")},m(t,r){i(t,n,r),a(n,e),a(e,o),a(n,s),a(n,l),a(l,c),a(l,d),a(l,m),a(l,v),a(n,b),a(n,$),a($,x),P.m(x,null),a(n,y),C||(M=h(x,"click",_),C=!0)},p(n,e){t=n,1&e&&L!==(L=t[7].function.name+"")&&g(c,L),1&e&&z!==(z=t[7].function.code+"")&&g(m,z),T!==(T=H(t))&&(P.d(1),P=T(t),P&&(P.c(),P.m(x,null)))},d(t){t&&r(n),P.d(),C=!1,M()}}}function yt(t){let e,o,s,l,c,h,v,w,b,$,x,y,C,M,k,L,z,H,T,P,_=t[0].name+"",q=t[0].code+"",A=t[0].permissions,V=[];for(let n=0;n<A.length;n+=1)V[n]=xt(wt(t,A,n));return{c(){e=u("main"),o=u("div"),s=u("div"),l=u("div"),c=p(),h=u("div"),v=u("h1"),w=f(_),b=f(" ("),$=f(q),x=f(")"),y=p(),C=u("h3"),C.textContent="Разрешения",M=p(),k=u("table"),L=u("thead"),L.innerHTML='<tr><th scope="col">№</th> \n                        <th scope="col">Функция</th> \n                        <th scope="col" style="text-align: center">Права</th></tr>',z=p(),H=u("tbody");for(let t=0;t<V.length;t+=1)V[t].c();T=p(),P=u("div"),m(l,"class","col-2"),m(C,"class","mt-5 mb-3"),m(k,"class","table"),m(h,"class","col-8"),m(P,"class","col-2"),m(s,"class","row"),m(o,"class","container mt-5")},m(t,n){i(t,e,n),a(e,o),a(o,s),a(s,l),a(s,c),a(s,h),a(h,v),a(v,w),a(v,b),a(v,$),a(v,x),a(h,y),a(h,C),a(h,M),a(h,k),a(k,L),a(k,z),a(k,H);for(let t=0;t<V.length;t+=1)V[t].m(H,null);a(s,T),a(s,P)},p(t,[n]){if(1&n&&_!==(_=t[0].name+"")&&g(w,_),1&n&&q!==(q=t[0].code+"")&&g($,q),3&n){let e;for(A=t[0].permissions,e=0;e<A.length;e+=1){const o=wt(t,A,e);V[e]?V[e].p(o,n):(V[e]=xt(o),V[e].c(),V[e].m(H,null))}for(;e<V.length;e+=1)V[e].d(1);V.length=A.length}},i:n,o:n,d(t){t&&r(e),d(V,t)}}}function Ct(t,n,e){let{login:o}=n,{password:s}=n,{roleCode:l}=n,c={permissions:[]};async function a(){e(0,c=await Ot("/roles/"+l,o,s)),console.log(c),console.log(c.permissions)}async function i(t){await St("/permissions/"+t+"/change",o,s),await a()}a();return t.$$set=t=>{"login"in t&&e(2,o=t.login),"password"in t&&e(3,s=t.password),"roleCode"in t&&e(4,l=t.roleCode)},[c,i,o,s,l,t=>{i(t.uuid)}]}class Mt extends W{constructor(t){super(),J(this,t,Ct,yt,c,{login:2,password:3,roleCode:4})}}function kt(t){let e,o,l,c,d,f,g,w,b,$,x,y,C,M,k,L,z,H,T,P,_,q,A,V;return{c(){e=u("main"),o=u("div"),l=u("div"),c=u("div"),d=p(),f=u("div"),g=u("h1"),g.textContent="Вход",w=p(),b=u("form"),$=u("div"),x=u("label"),x.innerHTML='Логин <span class="text-danger">*</span>',y=p(),C=u("input"),M=p(),k=u("div"),L=u("label"),L.innerHTML='Пароль <span class="text-danger">*</span>',z=p(),H=u("input"),T=p(),P=u("button"),P.textContent="Вход",_=p(),q=u("div"),m(c,"class","col-4"),m(x,"class","form-label"),m(x,"for","login"),m(C,"class","form-control"),m(C,"id","login"),C.required=!0,m(C,"type","text"),m($,"class","mb-3"),m(L,"class","form-label"),m(L,"for","password"),m(H,"class","form-control"),m(H,"id","password"),H.required=!0,m(H,"type","password"),m(k,"class","mb-3"),m(P,"class","btn btn-secondary mb-5"),m(P,"id","send"),m(f,"class","col-4"),m(q,"class","col-4"),m(l,"class","row"),m(o,"class","container mt-5")},m(n,s){i(n,e,s),a(e,o),a(o,l),a(l,c),a(l,d),a(l,f),a(f,g),a(f,w),a(f,b),a(b,$),a($,x),a($,y),a($,C),v(C,t[0]),a(b,M),a(b,k),a(k,L),a(k,z),a(k,H),v(H,t[1]),a(f,T),a(f,P),a(l,_),a(l,q),A||(V=[h(C,"input",t[4]),h(H,"input",t[5]),h(P,"click",t[2])],A=!0)},p(t,[n]){1&n&&C.value!==t[0]&&v(C,t[0]),2&n&&H.value!==t[1]&&v(H,t[1])},i:n,o:n,d(t){t&&r(e),A=!1,s(V)}}}function Lt(t,n,e){let{loginIn:o}=n,{login:s}=n,{password:l}=n;return t.$$set=t=>{"loginIn"in t&&e(3,o=t.loginIn),"login"in t&&e(0,s=t.login),"password"in t&&e(1,l=t.password)},[s,l,async function(){"ok"===(await St("/login",s,l)).data&&e(3,o=!0)},o,function(){s=this.value,e(0,s)},function(){l=this.value,e(1,l)}]}class zt extends W{constructor(t){super(),J(this,t,Lt,kt,c,{loginIn:3,login:0,password:1})}}function Ht(t){let n,e,o,s,l;function c(n){t[10](n)}function a(n){t[11](n)}function i(n){t[12](n)}let r={};return void 0!==t[2]&&(r.loginIn=t[2]),void 0!==t[3]&&(r.login=t[3]),void 0!==t[4]&&(r.password=t[4]),n=new zt({props:r}),y.push((()=>I(n,"loginIn",c))),y.push((()=>I(n,"login",a))),y.push((()=>I(n,"password",i))),{c(){O(n.$$.fragment)},m(t,e){S(n,t,e),l=!0},p(t,l){const c={};!e&&4&l&&(e=!0,c.loginIn=t[2],H((()=>e=!1))),!o&&8&l&&(o=!0,c.login=t[3],H((()=>o=!1))),!s&&16&l&&(s=!0,c.password=t[4],H((()=>s=!1))),n.$set(c)},i(t){l||(j(n.$$.fragment,t),l=!0)},o(t){N(n.$$.fragment,t),l=!1},d(t){F(n,t)}}}function Tt(t){let n,e,o,s,l,c,a,d,u;function h(n){t[5](n)}let m={};void 0!==t[0]&&(m.selectedPage=t[0]),n=new Q({props:m}),y.push((()=>I(n,"selectedPage",h)));let g="home"===t[0]&&Pt(),v="roles"===t[0]&&_t(t),w="functions"===t[0]&&qt(t),b="permissions"===t[0]&&At(t),$="role"===t[0]&&Vt(t);return{c(){O(n.$$.fragment),o=p(),g&&g.c(),s=p(),v&&v.c(),l=p(),w&&w.c(),c=p(),b&&b.c(),a=p(),$&&$.c(),d=f("")},m(t,e){S(n,t,e),i(t,o,e),g&&g.m(t,e),i(t,s,e),v&&v.m(t,e),i(t,l,e),w&&w.m(t,e),i(t,c,e),b&&b.m(t,e),i(t,a,e),$&&$.m(t,e),i(t,d,e),u=!0},p(t,o){const i={};!e&&1&o&&(e=!0,i.selectedPage=t[0],H((()=>e=!1))),n.$set(i),"home"===t[0]?g?1&o&&j(g,1):(g=Pt(),g.c(),j(g,1),g.m(s.parentNode,s)):g&&(B(),N(g,1,1,(()=>{g=null})),E()),"roles"===t[0]?v?(v.p(t,o),1&o&&j(v,1)):(v=_t(t),v.c(),j(v,1),v.m(l.parentNode,l)):v&&(B(),N(v,1,1,(()=>{v=null})),E()),"functions"===t[0]?w?(w.p(t,o),1&o&&j(w,1)):(w=qt(t),w.c(),j(w,1),w.m(c.parentNode,c)):w&&(B(),N(w,1,1,(()=>{w=null})),E()),"permissions"===t[0]?b?(b.p(t,o),1&o&&j(b,1)):(b=At(t),b.c(),j(b,1),b.m(a.parentNode,a)):b&&(B(),N(b,1,1,(()=>{b=null})),E()),"role"===t[0]?$?($.p(t,o),1&o&&j($,1)):($=Vt(t),$.c(),j($,1),$.m(d.parentNode,d)):$&&(B(),N($,1,1,(()=>{$=null})),E())},i(t){u||(j(n.$$.fragment,t),j(g),j(v),j(w),j(b),j($),u=!0)},o(t){N(n.$$.fragment,t),N(g),N(v),N(w),N(b),N($),u=!1},d(t){F(n,t),t&&r(o),g&&g.d(t),t&&r(s),v&&v.d(t),t&&r(l),w&&w.d(t),t&&r(c),b&&b.d(t),t&&r(a),$&&$.d(t),t&&r(d)}}}function Pt(t){let n,e;return n=new U({}),{c(){O(n.$$.fragment)},m(t,o){S(n,t,o),e=!0},i(t){e||(j(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function _t(t){let n,e,o,s;function l(n){t[6](n)}function c(n){t[7](n)}let a={login:t[3],password:t[4]};return void 0!==t[0]&&(a.selectedPage=t[0]),void 0!==t[1]&&(a.roleCode=t[1]),n=new nt({props:a}),y.push((()=>I(n,"selectedPage",l))),y.push((()=>I(n,"roleCode",c))),{c(){O(n.$$.fragment)},m(t,e){S(n,t,e),s=!0},p(t,s){const l={};8&s&&(l.login=t[3]),16&s&&(l.password=t[4]),!e&&1&s&&(e=!0,l.selectedPage=t[0],H((()=>e=!1))),!o&&2&s&&(o=!0,l.roleCode=t[1],H((()=>o=!1))),n.$set(l)},i(t){s||(j(n.$$.fragment,t),s=!0)},o(t){N(n.$$.fragment,t),s=!1},d(t){F(n,t)}}}function qt(t){let n,e;return n=new ct({props:{login:t[3],password:t[4]}}),{c(){O(n.$$.fragment)},m(t,o){S(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.login=t[3]),16&e&&(o.password=t[4]),n.$set(o)},i(t){e||(j(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function At(t){let n,e,o,s;function l(n){t[8](n)}function c(n){t[9](n)}let a={login:t[3],password:t[4]};return void 0!==t[0]&&(a.selectedPage=t[0]),void 0!==t[1]&&(a.roleCode=t[1]),n=new vt({props:a}),y.push((()=>I(n,"selectedPage",l))),y.push((()=>I(n,"roleCode",c))),{c(){O(n.$$.fragment)},m(t,e){S(n,t,e),s=!0},p(t,s){const l={};8&s&&(l.login=t[3]),16&s&&(l.password=t[4]),!e&&1&s&&(e=!0,l.selectedPage=t[0],H((()=>e=!1))),!o&&2&s&&(o=!0,l.roleCode=t[1],H((()=>o=!1))),n.$set(l)},i(t){s||(j(n.$$.fragment,t),s=!0)},o(t){N(n.$$.fragment,t),s=!1},d(t){F(n,t)}}}function Vt(t){let n,e;return n=new Mt({props:{login:t[3],password:t[4],roleCode:t[1]}}),{c(){O(n.$$.fragment)},m(t,o){S(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.login=t[3]),16&e&&(o.password=t[4]),2&e&&(o.roleCode=t[1]),n.$set(o)},i(t){e||(j(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){F(n,t)}}}function Bt(t){let n,e,o,s;const l=[Tt,Ht],c=[];function a(t,n){return t[2]?0:1}return e=a(t),o=c[e]=l[e](t),{c(){n=u("main"),o.c()},m(t,o){i(t,n,o),c[e].m(n,null),s=!0},p(t,[s]){let i=e;e=a(t),e===i?c[e].p(t,s):(B(),N(c[i],1,1,(()=>{c[i]=null})),E(),o=c[e],o?o.p(t,s):(o=c[e]=l[e](t),o.c()),j(o,1),o.m(n,null))},i(t){s||(j(o),s=!0)},o(t){N(o),s=!1},d(t){t&&r(n),c[e].d()}}}function Et(t,n,e){let o="home",s="",l=!1,c="",a="";return[o,s,l,c,a,function(t){o=t,e(0,o)},function(t){o=t,e(0,o)},function(t){s=t,e(1,s)},function(t){o=t,e(0,o)},function(t){s=t,e(1,s)},function(t){l=t,e(2,l)},function(t){c=t,e(3,c)},function(t){a=t,e(4,a)}]}const jt=new class extends W{constructor(t){super(),J(this,t,Et,Bt,c,{})}}({target:document.body});let Nt=window.location.href;function It(t,n){return t.startsWith(n)?t.slice(n.length):t}async function Ot(t,n,e){let o=await fetch(Nt+It(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)}});return await o.json()}async function St(t,n,e,o){return(await fetch(Nt+It(t,"/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)},body:JSON.stringify(o)})).json()}async function Ft(t,n,e){return(await fetch(Nt+It(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(n+":"+e)}})).json()}return t.default=jt,t.deleteFetch=Ft,t.getFetch=Ot,t.postFetch=St,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundle.js.map
